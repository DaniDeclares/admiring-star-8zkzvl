const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["context-slice-translator-CdeWXmZiBYUe.js","router-BlyQrGpZZX5J.js","common-BQtL456BP3Q3.js","context-slice-graphql-BZ6fTmq9sCuk.js","context-slice-extensibility-Be5pTwwmgE36.js","context-slice-atlas-oop1XO3_7gb0.js","context-slice-newReportify-CPyCfy8xECtk.js","context-slice-metrics-DubWL1fDJXwf.js","context-slice-manifestFetch-Crm2YKJnQMjb.js","context-slice-app~foundation~router~index-C2gMqZ867glV.js","render-common-DeDO-ej2pyEb.js","assets/render-common-DHvoQ5YbaVRx.css"])))=>i.map(i=>d[i]);
var Kn=Object.defineProperty;var Jt=i=>{throw TypeError(i)};var Xn=(i,t,n)=>t in i?Kn(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var U=(i,t,n)=>Xn(i,typeof t!="symbol"?t+"":t,n),Yt=(i,t,n)=>t.has(i)||Jt("Cannot "+n);var z=(i,t,n)=>(Yt(i,t,"read from private field"),n?n.call(i):t.get(i)),Pe=(i,t,n)=>t.has(i)?Jt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,n);var ye=(i,t,n)=>(Yt(i,t,"access private method"),n);import{j as ft,c1 as ot,v as j,c2 as Qn,c3 as ae,c4 as Wn,c5 as Jn,c6 as J,a8 as Yn,c7 as Zn,c8 as ea,ai as ta,c9 as ra,M as oe,ca as na,cb as aa,cc as ia,cd as Ne,bW as sa,ce as oa,k as hr,cf as ua,_ as re,cg as ca,ch as B,ci as la,cj as gr,N as da,O as fa,P as pa,ck as ut,ak as pt,cl as ha,S as Zt,ag as ga,V as ma,w as ie,g as va,cm as _a,cn as ya,i as Sa,co as Ea,cp as ht,K as mr,a9 as ba,Z as vr,cq as Aa,ae as wa,B as er,bp as xe,cr as gt,t as qe,cs as tr,ct as Pa,cu as La,cv as Ca,cw as Ta,cx as Oa,cy as Ia,b8 as Ra,cz as ka,cA as Ma,a0 as Na,cB as Da,b4 as xa,cC as qa,cD as _r,cE as Fa,cF as $a,cG as Ua,bP as Fe,az as Ba,cH as ja,cI as Ha,cJ as Va,cK as Ga,cL as za,cM as Ka,cN as Xa,cO as Qa,cP as Wa,U as Ja,cQ as Ya,cR as rr,cS as Za,cT as ei,cU as ti,ab as tt,aa as ri,cV as ni,cW as ai}from"../common-BQtL456BP3Q3.js";if(typeof window<"u"){String.prototype.replaceAll||(String.prototype.replaceAll=function(t,n){let o=this;for(;o!==(o=o.replace(t,n)););return o}),String.prototype.at||(String.prototype.at=function(t){return this.slice(t,t+1)}),self.setImmediate||(self.setImmediate=setTimeout,self.clearImmediate=clearTimeout),self.requestIdleCallback||(self.requestIdleCallback=setTimeout,self.cancelIdleCallback=clearTimeout),Object.hasOwn||(Object.hasOwn=Function.prototype.call.bind(Object.prototype.hasOwnProperty)),String.prototype.matchAll||(String.prototype.matchAll=function(t){const n=new RegExp(t,t.flags||"g");let o;const u=[];for(;o=n.exec(this);)u.push(o);return u}),Array.prototype.at||(Array.prototype.at=function(t){return t<0&&(t+=this.length),this[t]});const i=Object.getPrototypeOf(Uint8Array.prototype);i.at||(i.at=function(t){return t<0&&(t+=this.length),this[t]}),Promise.any||(Promise.any=function(t){return new Promise((n,o)=>{let u=0,l;function f(g){l=l||g,--u||o(l)}for(const g of t)Promise.resolve(g,++u).then(n,f)})}),URL.parse||(URL.parse=(t,n)=>{try{return new URL(String(t),n===void 0?void 0:String(n))}catch{return null}}),URL.canParse||(URL.canParse=(t,n)=>URL.parse(t,n)!=null)}const ii=console.error.bind(console),si=console.warn.bind(console),yr=[/this component is not accepted by Hot Loader/,/Report not sent due to releaseStage/];console.error=(...i)=>{const[t,n]=i;typeof t=="string"&&yr.some(o=>o.test(t))||typeof t=="string"&&/React does not recognize/.test(t)&&n==="testID"||ii(...i)};console.warn=(...i)=>{const[t]=i;typeof t=="string"&&yr.some(n=>n.test(t))||si(...i)};var pr;if(typeof Node=="function"&&Node.prototype){const i=(pr=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))==null?void 0:pr.get,t=Node.prototype.removeChild;Node.prototype.removeChild=function(o){return(i==null?void 0:i.call(o))!==this?o:t.apply(this,Array.from(arguments))};const n=Node.prototype.insertBefore;Node.prototype.insertBefore=function(o,u){return u&&(i==null?void 0:i.call(u))!==this?o:n.apply(this,Array.from(arguments))}}const nr="https://web-sourcemaps.shopify.io/";(async()=>{if(ft().isShopifyStaff)try{if(!(await fetch(nr,{credentials:"include"})).ok)throw new Error("not authenticated with source map service")}catch{console.log("%cShopify Developers","font-size: 16px; font-weight: bold; color: #96bf48;"),console.log(["To debug in production, please authenticate with the source map service",`%cAuth: ${nr}`,"Docs: https://github.com/Shopify/web-sourcemaps/blob/main/README.md"].join(`

`),"font-weight: bold;")}})();ot.defaults.domain=location.hostname;const oi=["_ga_B7X5MKCR35","_ga_T4PE06PPP4","_ga_W6NECZNE63","_ga_CKDXSSPLPF"];function ui(){for(const i of Object.keys(ot.get()))i.startsWith("_ga_")&&!oi.includes(i)&&ot.remove(i,{path:"/",domain:".shopify.com"})}setTimeout(ui,0);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(u){if(u.ep)return;u.ep=!0;const l=n(u);fetch(u.href,l)}})();class ci extends Wn{lifecycleEvent(t){if(t.type!==Jn.TimeToLastByte)return super.lifecycleEvent(t)}}const li=j(({ensure:i,registerCleanup:t})=>new ci(o=>{let u;i(["router"]).then(({router:l})=>{const f=l.subscribe(g=>{g.navigation.state==="loading"&&u!==g.navigation.location.pathname&&(u=g.navigation.location.pathname,o.start({target:u}))});t(()=>{f()})}).catch(l=>{throw l}),o.on("navigation",async l=>{if(l.result!==Qn.Finished)return;const f=Math.max(0,performance.now()-l.timeToComplete);ae("navigation_usable",{start:f,duration:l.timeToUsable}),ae("navigation_complete",{start:f,duration:l.timeToComplete})})}));function di({routeTimings:i,navigationStartAt:t,matches:n}){return Array.from(i.entries()).map(([o,u])=>{const l=fi({routeId:o,timings:u,navigationStartAt:t,matches:n});return Object.keys(l).length>0?l:null}).filter(o=>o!==null)}function fi({routeId:i,timings:t,navigationStartAt:n,matches:o}){let u=(o==null?void 0:o.some(l=>l.route.id===i))??!0;return(o==null?void 0:o.length)===0&&(u=!0),Object.fromEntries(Object.entries(t).filter(([l,f])=>pi(l,f,n,u)))}function pi(i,t,n,o){return(t==null?void 0:t.start)===void 0?!1:t.end===void 0||i==="prefetch"||t.start<n&&t.end>=n?o:t.start>=n&&t.end>=n}const hi=[Yn,Zn,ea,ta,ra];class gi{constructor(t){U(this,"ensure");U(this,"initTime",performance.now());U(this,"observer",null);U(this,"skipPageStableMetricsEmission",!1);U(this,"pageLoadComplete",!1);U(this,"navigationStartAt",0);U(this,"intervalId");U(this,"routerStates",[]);U(this,"isUserInputDetected",!1);U(this,"redirectNavigationStartAt");U(this,"loadingEndAt");U(this,"pageStableAt");U(this,"routerLoadersStartAt");U(this,"routerLoadersEndAt");U(this,"navigationContext",{});U(this,"entryCollection",{});U(this,"pageStableDurationListeners",[]);U(this,"pageLoaderDurationListeners",[]);U(this,"routeTimings",new Map);U(this,"visitedRoutes",new Set);U(this,"flagLabelCache",null);U(this,"_isIdle",!1);U(this,"idlePromise",null);U(this,"idlePromiseResolve",null);U(this,"errorState",null);this.ensure=t,this.recordAdminLoadedMetric(),this.reset()}get isIdle(){return this._isIdle}get isFullPageNavigation(){return this.navigationStartAt===0}async waitUntilIdle(){if(!this._isIdle)return this.idlePromise||(this.idlePromise=new Promise(t=>{this.idlePromiseResolve=t})),this.idlePromise}reset(t=0,n){this.navigationStartAt=t,this.checkForInterruptedNavigation(),this.cleanup(),n&&this.routerStates.push(n),this.checkNavigationComplete(),this.resetPerformanceObserver()}addRouteTimings(t,n,o,u){this.routeTimings.has(t)||this.routeTimings.set(t,{});const l=this.routeTimings.get(t);l&&!l[n]&&(l[n]={start:o,end:u})}redirect(t){this.routerStates.push(t),this.redirectNavigationStartAt||(this.redirectNavigationStartAt=performance.now())}setSkipPageStableMetricsEmission(t){this.skipPageStableMetricsEmission=t}setNavigationContext(t){this.navigationContext={...this.navigationContext,...t}}loadingFinished(){this.loadingEndAt||(this.loadingEndAt=performance.now())}addPageStableDurationListener(t){this.pageStableDurationListeners.push(t),t(this.pageStableDuration)}removePageStableDurationListener(t){this.pageStableDurationListeners=this.pageStableDurationListeners.filter(n=>n!==t)}addPageLoaderDurationListener(t){this.pageLoaderDurationListeners.push(t),t(this.pageLoaderDuration)}removePageLoaderDurationListener(t){this.pageLoaderDurationListeners=this.pageLoaderDurationListeners.filter(n=>n!==t)}markPageViewError(t){t<400||(this.errorState={statusCode:t})}setPageViewErrorReported(t){this.errorState&&(this.errorState.errorReported=t)}get pageViewStatusCode(){var t;return((t=this.errorState)==null?void 0:t.statusCode)??200}get pageStableDuration(){if(this.pageStableAt)return this.pageStableAt-this.navigationStartAt}get pageLoaderDuration(){let t;typeof this.prefetchingEndAt<"u"&&typeof this.prefetchingStartAt<"u"&&(t=this.prefetchingEndAt-this.prefetchingStartAt);let n;return typeof this.routerLoadersStartAt<"u"&&typeof this.routerLoadersEndAt<"u"&&(n=this.routerLoadersEndAt-this.routerLoadersStartAt),t??n}setReactLoadersMarkers(t,n){typeof this.routerLoadersStartAt>"u"&&typeof this.routerLoadersEndAt>"u"&&(this.routerLoadersStartAt=t,this.routerLoadersEndAt=n,this.pageLoaderDurationListeners.forEach(o=>o(this.pageLoaderDuration)))}get prefetchingStartAt(){var n;let t=1/0;for(const o of this.routeTimings.values())(n=o.prefetch)!=null&&n.start&&(t=Math.min(t,o.prefetch.start));return t===1/0?void 0:t}get prefetchingEndAt(){var n;let t=0;for(const o of this.routeTimings.values())(n=o.prefetch)!=null&&n.end&&(t=Math.max(t,o.prefetch.end));return t===0?void 0:t}get aggregateLoaderDuration(){const t=this.navigationContext.matches,n=di({routeTimings:this.routeTimings,navigationStartAt:this.navigationStartAt,matches:t});if(n.length===0)return;const o=n.flatMap(l=>{var f,g,_,S;return[(f=l.componentAssets)==null?void 0:f.start,(g=l.loaderAssets)==null?void 0:g.start,((_=l.prefetch)==null?void 0:_.start)??((S=l.loader)==null?void 0:S.start)].filter(Boolean)}),u=n.flatMap(l=>{var f,g,_,S;return[(f=l.componentAssets)==null?void 0:f.end,(g=l.loaderAssets)==null?void 0:g.end,((_=l.prefetch)==null?void 0:_.end)??((S=l.loader)==null?void 0:S.end)].filter(Boolean)});if(!(o.length===0||u.length===0))return{start:Math.min(...o,this.routerLoadersStartAt??1/0),end:Math.max(...u)}}get navigationStart(){return J(this.navigationStartAt)}get browserBackgroundedAt(){var t,n;return(n=(t=this.entryCollection.visibilityState)==null?void 0:t.filter(o=>o.name==="hidden")[0])==null?void 0:n.startTime}get firstRedirectRouterState(){return this.routerStates.filter(t=>{var n,o;return(o=(n=t.navigation.location)==null?void 0:n.state)==null?void 0:o._isRedirect})[0]}get delayMetrics(){const n=Math.max(this.initTime,this.navigationStartAt);return performance.now()-n<2500}cleanup(){this.pageLoadComplete=!1,clearInterval(this.intervalId),this.entryCollection={},this.routerStates=[],this.isUserInputDetected=!1,this.redirectNavigationStartAt=void 0,this.loadingEndAt=void 0,this.navigationContext={},this.routerLoadersStartAt=void 0,this.routerLoadersEndAt=void 0,this.pageStableDurationListeners.forEach(t=>t()),this.pageLoaderDurationListeners.forEach(t=>t()),this.errorState=null,this._isIdle=!1,this.idlePromise=null,this.idlePromiseResolve=null}resetPerformanceObserver(){var t;(t=this.observer)==null||t.disconnect(),this.observer=new PerformanceObserver(this.collectPerformanceEntries.bind(this)),this.observer.observe({entryTypes:["first-input","layout-shift","resource","visibility-state"]})}async getFlagLabels(){if(this.flagLabelCache!==null)return this.flagLabelCache;const{flags:t}=await this.ensure(["flags"]),n={};for(const o of hi)n[`flag_${o}_enabled`]=t.get(o);return this.flagLabelCache=n,n}async recordAdminLoadedMetric(){const{metrics:t}=await this.ensure(["metrics"]);t.record(oe.AdminLoaded,1)}createSpansForRouteTimings(){var t,n,o,u,l,f,g,_,S,L;for(const[A,b]of this.routeTimings.entries())(t=b.loader)!=null&&t.end&&((n=b.loader)!=null&&n.start)&&ae(`loader(${A})`,{end:b.loader.end,start:b.loader.start}),(o=b.componentAssets)!=null&&o.end&&((u=b.componentAssets)!=null&&u.start)&&ae(`componentAssets(${A})`,{end:b.componentAssets.end,start:b.componentAssets.start}),(l=b.loaderAssets)!=null&&l.end&&((f=b.loaderAssets)!=null&&f.start)&&ae(`loaderAssets(${A})`,{end:b.loaderAssets.end,start:b.loaderAssets.start}),(g=b.actionAssets)!=null&&g.end&&((_=b.actionAssets)!=null&&_.start)&&ae(`actionAssets(${A})`,{end:b.actionAssets.end,start:b.actionAssets.start}),(S=b.prefetch)!=null&&S.end&&((L=b.prefetch)!=null&&L.start)&&ae(`prefetch(${A})`,{end:b.prefetch.end,start:b.prefetch.start})}checkNavigationComplete(){this.intervalId=setInterval(async()=>{var f,g,_,S,L,A,b,h,v;((f=this.entryCollection.firstInput)==null?void 0:f[0])&&(this.isUserInputDetected=!0);const n=(_=(g=this.entryCollection.resource)==null?void 0:g.filter(({initiatorType:E,name:T})=>!["beacon","iframe"].includes(E)&&!T.includes("type=mutation")))==null?void 0:_.at(-1),o=!n||na(n),u=!aa();if(o&&u&&!!this.loadingEndAt){n&&this.createSpan("resource_complete",n);const E=(S=this.entryCollection.graphqlQueries)==null?void 0:S.at(-1);E&&this.createSpan("graphql_queries_complete",E);const T=(L=this.entryCollection.images)==null?void 0:L.at(-1);T&&this.createSpan("images_complete",T);const M=(A=this.entryCollection.scripts)==null?void 0:A.at(-1);M&&this.createSpan("scripts_complete",M);const $=(b=this.entryCollection.layoutShift)==null?void 0:b.at(0);$&&this.createSpan("first_layout_shift",$);const q=(h=this.entryCollection.layoutShift)==null?void 0:h.at(-1);q&&this.createSpan("layout_shift_complete",q);const R=(v=this.entryCollection.layoutShift)==null?void 0:v.sort((Y,K)=>K.value-Y.value).at(0);R&&this.createSpan("largest_layout_shift",R);const F=ia([E,T,M],q),V=Ne(F)?F.responseEnd:(F==null?void 0:F.paintTime)??0;if(F&&this.createSpan("page_stable",F,V),!V&&this.delayMetrics)return;const W=this.navigationContext.normalizedPathname??"unknown",H=!this.visitedRoutes.has(W);H&&this.visitedRoutes.add(W),this.emitMetrics({isCancelledNavigation:!1,firstFramePaintedAt:J($==null?void 0:$.paintTime),graphqlQueriesEndAt:J(E==null?void 0:E.responseEnd),imagesEndAt:J(T==null?void 0:T.responseEnd),scriptsEndAt:J(M==null?void 0:M.responseEnd),layoutShiftEndAt:J(q==null?void 0:q.paintTime),pageStableAt:J(V)},{isFirstExecution:H,largestLayoutShiftEndAt:J(R==null?void 0:R.startTime)}),this.pageStableAt=V,this.pageStableDurationListeners.forEach(Y=>Y(this.pageStableDuration)),this.pageLoadComplete=!0,clearInterval(this.intervalId)}},250)}createSpan(t,n,o){ae(t,{start:this.navigationStartAt,end:o??(Ne(n)?n.responseEnd:n.paintTime)})}collectPerformanceEntries(t){this.entryCollection.graphqlQueries||(this.entryCollection.graphqlQueries=[]),this.entryCollection.scripts||(this.entryCollection.scripts=[]),this.entryCollection.images||(this.entryCollection.images=[]);for(const n of t.getEntries()){const o=sa(n.entryType);this.entryCollection[o]||(this.entryCollection[o]=[]),!((Ne(n)?n.responseEnd:n.startTime)<this.navigationStartAt)&&(o==="layoutShift"?this.addLayoutShiftEntry(n):this.entryCollection[o].push(n),Ne(n)&&(n.initiatorType==="fetch"&&/\/api\/shopify.+type=query|\/queries/.test(n.name)?this.entryCollection.graphqlQueries.push(n):n.initiatorType==="script"?this.entryCollection.scripts.push(n):n.initiatorType==="img"&&this.entryCollection.images.push(n)))}}addLayoutShiftEntry(t){requestAnimationFrame(()=>{requestAnimationFrame(()=>{var o;const n=performance.now();t.paintTime=n,(o=this.entryCollection.layoutShift)==null||o.push(t)})})}checkForInterruptedNavigation(){!this.pageLoadComplete&&this.navigationStartAt&&this.emitMetrics({isCancelledNavigation:!0,navigationCancelledAt:J(performance.now())})}async emitMetrics(t,n={isFirstExecution:!1}){var M,$,q,R,F,V;this.createSpansForRouteTimings();const{browser:o,metrics:u,monorail:l,serverData:f}=await this.ensure(["browser","metrics","monorail","serverData"]);this.loadingEndAt&&ae("page_load",{start:this.navigationStartAt,end:this.loadingEndAt});const g=J(this.navigationStartAt),_=this.navigationStartAt===0,S=!!this.firstRedirectRouterState,L=this.pageViewStatusCode,A=_&&document.referrer?document.referrer:void 0,{manifestRouteId:b,normalizedPathname:h,previousNormalizedPathname:v,sliceName:E}=this.navigationContext;if(!t.isCancelledNavigation){const W=await this.getFlagLabels(),H={isFullPageNavigation:_,isRedirectNavigation:S,slice:E??"unknown",manifestRouteId:b??"unknown",normalizedPathname:h??"unknown",...W};for(const[K,ne]of this.routeTimings.entries())ne.loaderAssets&&u.record(oe.PageLoaderAssetsDuration,Math.round(ne.loaderAssets.end-ne.loaderAssets.start),{...H,manifestRouteId:K}),ne.componentAssets&&u.record(oe.PageComponentAssetsDuration,Math.round(ne.componentAssets.end-ne.componentAssets.start),{...H,manifestRouteId:K});if(typeof this.loadingEndAt<"u"){const K=this.aggregateLoaderDuration;K&&(ae("aggregate_loader_duration",{start:K.start,end:K.end}),u.record(oe.PageAggregateLoaderDuration,Math.round(K.end-K.start),{...H,isFirstExecution:n.isFirstExecution}));let ne="none";this.prefetchingEndAt&&(ne=this.prefetchingEndAt<=this.navigationStartAt?"full":"partial"),u.record(oe.PageBlockingLoaderDuration,Math.round(this.loadingEndAt-this.navigationStartAt),{...H,isFirstExecution:n.isFirstExecution,prefetched:ne}),this._isIdle=!0,(M=this.idlePromiseResolve)==null||M.call(this)}const Y={...H,statusCode:L,errorReported:($=this.errorState)==null?void 0:$.errorReported};u.record(oe.PageView,1,Y),typeof t.pageStableAt<"u"&&!this.skipPageStableMetricsEmission&&u.record(oe.PageViewStableDuration,t.pageStableAt-g,Y),typeof n.largestLayoutShiftEndAt<"u"&&u.record(oe.PageLargestLayoutShiftDuration,n.largestLayoutShiftEndAt-g,Y)}const T={browserBackgroundedAt:J(this.browserBackgroundedAt),connectionType:ua(),deployStage:f.deployStage,identityUuid:hr(),isFullPageNavigation:_,isMobileWebviewNavigation:oa(o),isRedirectNavigation:S,isStoreAdminPage:!0,isUserInputDetected:this.isUserInputDetected,loadingStartAt:J(this.routerLoadersStartAt),loadingEndAt:J(this.loadingEndAt),isFirstLoaderExecution:n.isFirstExecution,navigationStartAt:g,normalizedPathname:h,pathname:window.location.pathname,prefetchingEndAt:J(this.prefetchingEndAt),prefetchingStartAt:J(this.prefetchingStartAt),previousNormalizedPathname:v,previousPathname:(R=(q=this.routerStates[0])==null?void 0:q.location)==null?void 0:R.pathname,redirectNavigationPathname:(V=(F=this.firstRedirectRouterState)==null?void 0:F.location)==null?void 0:V.pathname,redirectNavigationStartAt:J(this.redirectNavigationStartAt),referrer:A,sliceName:E,statusCode:L,...t};this.skipPageStableMetricsEmission||l.produce({schemaId:"admin_navigation_performance/2.5",payload:T}),this.routeTimings.clear()}}const mi=j(({ensure:i})=>{const t=new gi(i);let n;return i(["router"]).then(({router:o})=>{o.subscribe(u=>{var l,f;if(u.navigation.state==="loading"&&u.location.pathname!==u.navigation.location.pathname)(l=u.navigation.location.state)!=null&&l._isRedirect?t.redirect(u):t.reset(performance.now(),u),n=(f=o.getRouteInfo())==null?void 0:f.pathPattern;else if(u.navigation.state==="idle"){const{pathPattern:g,manifestRouteId:_,sliceName:S}=o.getRouteInfo();t.setNavigationContext({manifestRouteId:_,normalizedPathname:g,previousNormalizedPathname:n,sliceName:S,matches:u.matches}),t.loadingFinished(),t.setSkipPageStableMetricsEmission(u.matches.some(({route:L})=>["online-store:parent","apps:old_app_parent"].includes(L.id)))}})}).catch(o=>{throw o}),t}),vi=j(({ensure:i})=>{const t=B([]);let n=0;const o=new Map,u=[];let l;i(["i18n","locale"]).then(async g=>{const{getTranslatorFromContext:_}=await re(async()=>{const{getTranslatorFromContext:S}=await import("../context-slice-translator-CdeWXmZiBYUe.js");return{getTranslatorFromContext:S}},__vite__mapDeps([0,1,2]));l=_(g)}).catch(g=>{throw g});const f={get list(){return t.value},show(g){l&&ar(g,l)&&t.value.filter(_=>ar(_,l)).length||typeof g.id<"u"&&t.value.find(_=>_.id===g.id)||(g.id=g.id??String(++n),t.value=t.value.concat(g))},hide(g){g?t.value=t.value.filter(_=>g.id!==_.id):t.value=[]},setActionOptions(g,_){o.set(g,_)},clearActionOptions(g){o.delete(g)}};return i(["router"]).then(({router:g})=>{g.subscribe(({navigation:_,actionData:S})=>{_.state==="submitting"?u.length=0:Object.keys(S??{}).forEach(L=>{const A=S==null?void 0:S[L];if(A!=null&&A.notification&&!u.find(b=>ca(A.notification,b))){const b={content:A.notification.content,error:A.notification.error,tone:A.notification.defaultTone},h=A.notification.key;let v=b;h&&o.has(h)&&(v={...b,...o.get(h)}),f.show(v),u.push(A.notification)}})})}).catch(g=>{throw g}),f});function ar({error:i,content:t},n){return i&&(t===n.translate("Common.serverError")||t===n.translate("Common.maskedDataMutationError"))}function _i({fetch:i,middleware:t}){return new yi(i,t)}class yi{constructor(t,n){U(this,"middleware");U(this,"fetch");this.middleware=n,typeof t=="function"?this.fetch=t:this.fetch=la(t)}query(t,{variables:n}={}){return(async()=>{try{return await this.run(t,{variables:n})}finally{}})()}async run(t,{variables:n}={}){const o=await this.fetch({document:t,variables:n??{}},this.middleware);if(o instanceof gr)throw o;const{data:u,error:l}=o;return u?{data:u}:{error:l}}}const Si=pt(403),Ei=pt(401),bi=pt(404);function Ai(i,t,n){if(!(n&&i instanceof Error&&n(i))&&i instanceof gr){const o=da(i.response,i.responseText);if(o instanceof fa){const u=pa(o);return t(u,o.reason),o}}}const wi=i=>{if(i instanceof ut){const t=i==null?void 0:i.response.status,n=i==null?void 0:i.responseText;return t===bi||t===Si&&n!=="CSRF"||t===Ei&&n.includes("[TFA]")}return!1};function Pi(i,t,n){if(i instanceof Error&&!(i instanceof ut)||!i.context)return;const{request:o,stats:u}=i.context;let l;i instanceof ut?l=i.response:l=i.context.response;const f=!(i instanceof Error)&&typeof i.data=="object",g=f?i.extensions:void 0,_=i!=null&&!(i instanceof Error)&&i.error&&i.error instanceof ha?i.error.errors.map(({message:h,path:v,extensions:E})=>({message:h,path:v&&Array.isArray(v)?v.join(","):void 0,extensions:E})):void 0,S=l instanceof Response&&l.headers.get(Zt.RequestId)||void 0,L=l instanceof Response&&l.headers.get(Zt.Profile)||void 0,A=l instanceof Response?l.status:void 0,b=l instanceof Response?l.url:void 0;t({graphQLClientType:"GraphQL-Lite",name:n??o.operationName??"Unknown",url:b,status:A,success:f,errorResponse:i!=null&&i instanceof Error&&i,errors:_,requestId:S,duration:u.duration,start:u.start,end:u.end,resultLength:f?JSON.stringify(i).length:void 0,extensions:g,request:{query:o.document,variables:o.variables},profileUrl:L})}const Li=j(({serverData:i,unified:t,errorLogger:n,performance:o})=>{const u=i.isUnifiedApp,l=ga({name:"core",apiEndpointPath:u?`/api/shopify/${t.storeHandle}`:"/admin/internal/web/graphql/core",host:location.hostname,csrfToken:i.csrfToken,getRedirectUrl(_){var S;if(u){const L=new URLSearchParams,A=(S=i==null?void 0:i.identityUser)==null?void 0:S.email;return A&&L.append("login_hint",A),L.append("returnPath",location.pathname),L.append("errorHint","client_api_error"),`/login?${L.toString()}`}return typeof _=="string"?_:_(encodeURIComponent(location.href))},errorLogger:n,performance:o}),f=ma({csrfToken:i.csrfToken,buildVersion:i.buildVersion});return _i({fetch:{uri:`https://${l.host}${l.apiEndpointPath}`,headers:f},middleware:{response:(_,S)=>{Pi(_,l.onOperation,S),Ai(_,l.onRedirect,wi)}}})}),Ci=j(()=>{const i=B(0),t=B(0),n=B(0),o=B(null),u=ie(()=>i.value>0),l=ie(()=>{const _=i.value+n.value,S=_-i.value;return _&&S/_});let f;function g(){clearTimeout(f),i.value=0,n.value=0,t.value=0,o.value=null}return{get loading(){return u.value},get polarisLoadingStack(){return t.value},get progress(){return l.value},get loadInitiated(){return o.value},incrementPolarisLoadingStack(){t.value++},decrementPolarisLoadingStack(){t.value--},setLoadInitiated(_){o.value=_},start(){clearTimeout(f),i.value++,o.value=Date.now()},stop(){const _=i.value-1;_<0||(n.value++,i.value=_,_===0&&(f=setTimeout(g,100)))},reset:g}}),Ti=j(()=>{const i=B([]);return{get globallyDismissedHomeItemHandles(){return i.value},dismissHomeItemGlobally(t){i.value.includes(t)||(i.value=[...i.value,t])},undoDismissHomeItemGlobally(t){i.value=i.value.filter(n=>n!==t)}}}),Oi=j(()=>{const i=B([]),t=B(!1);function n(o,u){const l={...o};for(const f in u)u[f]&&(l[f]=u[f]);return l}return{add(o){const u=i.value.slice(),l=u.findIndex(f=>f.id===o.id);l>=0?u[l]={...u[l],...o}:u.push(o),i.value=u},update(o,u){i.value=i.value.map(l=>(l.id===o&&(l.status=n(l.status,u)),l))},remove(o){i.value=i.value.filter(u=>!o(u))},removeById(o){i.value=i.value.filter(u=>u.id!==o)},get items(){return i.value},expand(){t.value=!1},collapse(){t.value=!0},get isCollapsed(){return t.value}}}),Ii=()=>{const i=B(!1),t=B(!1),n=B([]),o=B("normal");return{get activeSidebar(){return n.value[n.value.length-1]},get isExpanded(){return this.activeSidebar!==void 0&&!i.value},get isHidden(){return i.value},get isResizing(){return t.value},get mode(){return o.value},setMode(u){o.value=u},open(u){n.value=[...n.value.filter(l=>l!==u),u]},close(u){const l=n.value.filter(f=>f!==u);l.length!==n.value.length&&(n.value=l)},show(){i.value=!1},hide(){i.value=!0},toggleResizing(u){typeof u>"u"?t.value=!t.value:t.value=u}}},Ri=j(Ii);var rt={exports:{}},ir;function ki(){return ir||(ir=1,function(i,t){(function(n){i.exports=n()})(function(){var n=["navigation","request","process","log","user","state","error","manual"],o=function(e,r,s){for(var a=s,c=0,d=e.length;c<d;c++)a=r(a,e[c],c,e);return a},u=function(e,r){return o(e,function(s,a,c,d){return r(a,c,d)?s.concat(a):s},[])},l=function(e,r){return o(e,function(s,a,c,d){return s===!0||a===r},!1)},f=function(e){return Object.prototype.toString.call(e)==="[object Array]"},g=!{toString:null}.propertyIsEnumerable("toString"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=function(e){var r=[],s;for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.push(s);if(!g)return r;for(var a=0,c=_.length;a<c;a++)Object.prototype.hasOwnProperty.call(e,_[a])&&r.push(_[a]);return r},L=function(e,r){return e===void 0&&(e=1),function(s){return typeof s=="number"&&parseInt(""+s,10)===s&&s>=e&&s<=r}},A=function(e){return typeof e=="function"||f(e)&&u(e,function(r){return typeof r=="function"}).length===e.length},b=function(e){return typeof e=="string"&&!!e.length},h={},v=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};h.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:b},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||b(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||b(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return v()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var r=S(e),s=S(v());return!(u(r,function(a){return l(s,a)}).length<r.length||u(S(e),function(a){return typeof e[a]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:A},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:A},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:A},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&b(e.notify)&&b(e.sessions)&&u(S(e),function(r){return!l(["notify","sessions"],r)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||f(e)&&u(e,function(r){return typeof r=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return L(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return n},message:"should be null or a list of available breadcrumb types ("+n.join(",")+")",validate:function(e){return e===null||f(e)&&o(e,function(r,s){return r===!1?r:l(n,s)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&o(S(e),function(r,s){return r&&l(["id","email","name"],s)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&o(["debug","info","warn","error"],function(r,s){return r&&typeof e[s]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return f(e)&&e.length===u(e,function(r){return typeof r=="string"||r&&typeof r.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return f(e)&&e.length===u(e,function(r){return r&&typeof r=="object"&&typeof r.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return f(e)&&e.length===u(e,function(r){return r&&typeof r=="object"&&typeof r.name=="string"}).length}}};var E=function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},T=function(e,r){return o(e,function(s,a,c,d){return s.concat(r(a,c,d))},[])};function M(){return M=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},M.apply(this,arguments)}var $=h.schema,q={releaseStage:E({},$.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:M({},$.appType,{defaultValue:function(){return"browser"}}),logger:E({},$.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?R():void 0}})},R=function(){var e={},r=console.log;return T(["debug","info","warn","error"],function(s){var a=console[s];e[s]=typeof a=="function"?a.bind(console,"[bugsnag]"):r.bind(console,"[bugsnag]")}),e},F=function(){function e(s,a,c,d){d===void 0&&(d=new Date),this.type=c,this.message=s,this.metadata=a,this.timestamp=d}var r=e.prototype;return r.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),V=F,W={};(function(e,r){typeof W=="object"?W=r():e.StackFrame=r()})(this,function(){function e(w){return!isNaN(parseFloat(w))&&isFinite(w)}function r(w){return w.charAt(0).toUpperCase()+w.substring(1)}function s(w){return function(){return this[w]}}var a=["isConstructor","isEval","isNative","isToplevel"],c=["columnNumber","lineNumber"],d=["fileName","functionName","source"],p=["args"],y=a.concat(c,d,p);function m(w){if(w instanceof Object)for(var k=0;k<y.length;k++)w.hasOwnProperty(y[k])&&w[y[k]]!==void 0&&this["set"+r(y[k])](w[y[k]])}m.prototype={getArgs:function(){return this.args},setArgs:function(w){if(Object.prototype.toString.call(w)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=w},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(w){if(w instanceof m)this.evalOrigin=w;else if(w instanceof Object)this.evalOrigin=new m(w);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var w=this.getFunctionName()||"{anonymous}",k="("+(this.getArgs()||[]).join(",")+")",x=this.getFileName()?"@"+this.getFileName():"",G=e(this.getLineNumber())?":"+this.getLineNumber():"",I=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return w+k+x+G+I}};for(var C=0;C<a.length;C++)m.prototype["get"+r(a[C])]=s(a[C]),m.prototype["set"+r(a[C])]=function(w){return function(k){this[w]=!!k}}(a[C]);for(var P=0;P<c.length;P++)m.prototype["get"+r(c[P])]=s(c[P]),m.prototype["set"+r(c[P])]=function(w){return function(k){if(!e(k))throw new TypeError(w+" must be a Number");this[w]=Number(k)}}(c[P]);for(var O=0;O<d.length;O++)m.prototype["get"+r(d[O])]=s(d[O]),m.prototype["set"+r(d[O])]=function(w){return function(k){this[w]=String(k)}}(d[O]);return m});var H={};(function(e,r){typeof H=="object"?H=r(W):e.ErrorStackParser=r(e.StackFrame)})(this,function(r){var s=/(^|@)\S+\:\d+/,a=/^\s*at .*(\S+\:\d+|\(native\))/m,c=/^(eval@)?(\[native code\])?$/;return{parse:function(p){if(typeof p.stacktrace<"u"||typeof p["opera#sourceloc"]<"u")return this.parseOpera(p);if(p.stack&&p.stack.match(a))return this.parseV8OrIE(p);if(p.stack)return this.parseFFOrSafari(p);throw new Error("Cannot parse given Error object")},extractLocation:function(p){if(p.indexOf(":")===-1)return[p];var y=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,m=y.exec(p.replace(/[\(\)]/g,""));return[m[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(p){var y=p.stack.split(`
`).filter(function(m){return!!m.match(a)},this);return y.map(function(m){m.indexOf("(eval ")>-1&&(m=m.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var C=m.replace(/^\s+/,"").replace(/\(eval code/g,"("),P=C.match(/ (\((.+):(\d+):(\d+)\)$)/);C=P?C.replace(P[0],""):C;var O=C.split(/\s+/).slice(1),w=this.extractLocation(P?P[1]:O.pop()),k=O.join(" ")||void 0,x=["eval","<anonymous>"].indexOf(w[0])>-1?void 0:w[0];return new r({functionName:k,fileName:x,lineNumber:w[1],columnNumber:w[2],source:m})},this)},parseFFOrSafari:function(p){var y=p.stack.split(`
`).filter(function(m){return!m.match(c)},this);return y.map(function(m){if(m.indexOf(" > eval")>-1&&(m=m.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),m.indexOf("@")===-1&&m.indexOf(":")===-1)return new r({functionName:m});var C=/((.*".+"[^@]*)?[^@]*)(?:@)/,P=m.match(C),O=P&&P[1]?P[1]:void 0,w=this.extractLocation(m.replace(C,""));return new r({functionName:O,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:m})},this)},parseOpera:function(p){return!p.stacktrace||p.message.indexOf(`
`)>-1&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,m=p.message.split(`
`),C=[],P=2,O=m.length;P<O;P+=2){var w=y.exec(m[P]);w&&C.push(new r({fileName:w[2],lineNumber:w[1],source:m[P]}))}return C},parseOpera10:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,m=p.stacktrace.split(`
`),C=[],P=0,O=m.length;P<O;P+=2){var w=y.exec(m[P]);w&&C.push(new r({functionName:w[3]||void 0,fileName:w[2],lineNumber:w[1],source:m[P]}))}return C},parseOpera11:function(p){var y=p.stack.split(`
`).filter(function(m){return!!m.match(s)&&!m.match(/^Error created at/)},this);return y.map(function(m){var C=m.split("@"),P=this.extractLocation(C.pop()),O=C.shift()||"",w=O.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,k;O.match(/\(([^\)]*)\)/)&&(k=O.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var x=k===void 0||k==="[arguments not available]"?void 0:k.split(",");return new r({functionName:w,args:x,fileName:P[0],lineNumber:P[1],columnNumber:P[2],source:m})},this)}}});var Y=H,K=function(e,r,s,a){var c=a&&a.redactedKeys?a.redactedKeys:[],d=a&&a.redactedPaths?a.redactedPaths:[];return JSON.stringify(jr(e,c,d),r,s)},ne=20,Nr=25e3,Dr=8,Te="...";function xr(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function mt(e){return"[Throws: "+(e?e.message:"?")+"]"}function qr(e,r){for(var s=0,a=e.length;s<a;s++)if(e[s]===r)return!0;return!1}function Fr(e,r){for(var s=0,a=e.length;s<a;s++)if(r.indexOf(e[s])===0)return!0;return!1}function $r(e,r){for(var s=0,a=e.length;s<a;s++)if(typeof e[s]=="string"&&e[s].toLowerCase()===r.toLowerCase()||e[s]&&typeof e[s].test=="function"&&e[s].test(r))return!0;return!1}function Ur(e){return Object.prototype.toString.call(e)==="[object Array]"}function Br(e,r){try{return e[r]}catch(s){return mt(s)}}function jr(e,r,s){var a=[],c=0;function d(p,y){function m(){return y.length>Dr&&c>Nr}if(c++,y.length>ne||m())return Te;if(p===null||typeof p!="object")return p;if(qr(a,p))return"[Circular]";if(a.push(p),typeof p.toJSON=="function")try{c--;var C=d(p.toJSON(),y);return a.pop(),C}catch(D){return mt(D)}var P=xr(p);if(P){c--;var O=d({name:p.name,message:p.message},y);return a.pop(),O}if(Ur(p)){for(var w=[],k=0,x=p.length;k<x;k++){if(m()){w.push(Te);break}w.push(d(p[k],y.concat("[]")))}return a.pop(),w}var G={};try{for(var I in p)if(Object.prototype.hasOwnProperty.call(p,I)){if(Fr(s,y.join("."))&&$r(r,I)){G[I]="[REDACTED]";continue}if(m()){G[I]=Te;break}G[I]=d(Br(p,I),y.concat(I))}}catch{}return a.pop(),G}return d(e,[])}function vt(e,r,s,a){if(typeof s=="string"){a===void 0?a=null:a!==null&&typeof a!="string"&&(a=K(a));var c=r[s];if(typeof c=="number"){e[c]={name:s,variant:a};return}e.push({name:s,variant:a}),r[s]=e.length-1}}function Hr(e,r,s){if(f(r)){for(var a=0;a<r.length;++a){var c=r[a];c===null||typeof c!="object"||vt(e,s,c.name,c.variant)}return e}}function Vr(e){return T(u(e,Boolean),function(r){var s=r.name,a=r.variant,c={featureFlag:s};return typeof a=="string"&&(c.variant=a),c})}function Gr(e,r,s){var a=r[s];typeof a=="number"&&(e[a]=null,delete r[s])}var he={add:vt,clear:Gr,merge:Hr,toEventApi:Vr},Oe=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},zr=Kr;function Kr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var Ie=zr,Xr=function(e,r,s,a){var c;if(r){var d;if(s===null)return _t(e,r);typeof s=="object"&&(d=s),typeof s=="string"&&(d=(c={},c[s]=a,c)),d&&(r==="__proto__"||r==="constructor"||r==="prototype"||(e[r]||(e[r]={}),e[r]=E({},e[r],d)))}},Qr=function(e,r,s){if(typeof r=="string"){if(!s)return e[r];if(e[r])return e[r][s]}},_t=function(e,r,s){if(typeof r=="string"){if(!s){delete e[r];return}r==="__proto__"||r==="constructor"||r==="prototype"||e[r]&&delete e[r][s]}},me={add:Xr,get:Qr,clear:_t},Ue={};(function(e,r){typeof Ue=="object"?Ue=r(W):e.StackGenerator=r(e.StackFrame)})(this,function(e){return{backtrace:function(s){var a=[],c=10;typeof s=="object"&&typeof s.maxStackSize=="number"&&(c=s.maxStackSize);for(var d=arguments.callee;d&&a.length<c&&d.arguments;){for(var p=new Array(d.arguments.length),y=0;y<p.length;++y)p[y]=d.arguments[y];/function(?:\s+([\w$]+))+\s*\(/.test(d.toString())?a.push(new e({functionName:RegExp.$1||void 0,args:p})):a.push(new e({args:p}));try{d=d.caller}catch{break}}return a}}});function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Be.apply(this,arguments)}var de=function(){function e(s,a,c,d,p){c===void 0&&(c=[]),d===void 0&&(d=Yr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=p,this._handledState=d,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[St(s,a,e.__type,c)]}var r=e.prototype;return r.addMetadata=function(a,c,d){return me.add(this._metadata,a,c,d)},r.setTraceCorrelation=function(a,c){typeof a=="string"&&(this._correlation=Be({traceId:a},typeof c=="string"?{spanId:c}:{}))},r.getMetadata=function(a,c){return me.get(this._metadata,a,c)},r.clearMetadata=function(a,c){return me.clear(this._metadata,a,c)},r.addFeatureFlag=function(a,c){c===void 0&&(c=null),he.add(this._features,this._featuresIndex,a,c)},r.addFeatureFlags=function(a){he.merge(this._features,a,this._featuresIndex)},r.getFeatureFlags=function(){return he.toEventApi(this._features)},r.clearFeatureFlag=function(a){he.clear(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r.toJSON=function(){return{payloadVersion:"4",exceptions:T(this.errors,function(a){return E({},a,{message:a.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),Wr=function(e){var r={file:e.fileName,method:Jr(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return r.lineNumber>-1&&!r.file&&!r.method&&(r.file="global code"),r},Jr=function(e){return/^global code$/i.test(e)?"global code":e},Yr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},yt=function(e){return typeof e=="string"?e:""};function St(e,r,s,a){return{errorClass:yt(e),errorMessage:yt(r),type:s,stacktrace:o(a,function(c,d){var p=Wr(d);try{return JSON.stringify(p)==="{}"?c:c.concat(p)}catch{return c}},[])}}function Et(e){return e.cause?[e].concat(Et(e.cause)):[e]}de.getStacktrace=function(e,r,s){if(Oe(e))return Y.parse(e).slice(r);try{return u(Ue.backtrace(),function(a){return(a.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+s)}catch{return[]}},de.create=function(e,r,s,a,c,d){c===void 0&&(c=0);var p=At(e,r,a,d),y=p[0],m=p[1],C;try{var P=de.getStacktrace(y,m>0?1+m+c:0,1+c);C=new de(y.name,y.message,P,s,e)}catch{C=new de(y.name,y.message,[],s,e)}if(y.name==="InvalidError"&&C.addMetadata(""+a,"non-error parameter",bt(e)),y.cause){var O,w=Et(y).slice(1),k=T(w,function(x){var G=Ie(x)&&Oe(x)?Y.parse(x):[],I=At(x,!0,"error cause"),D=I[0];return D.name==="InvalidError"&&C.addMetadata("error cause",bt(x)),St(D.name,D.message,de.__type,G)});(O=C.errors).push.apply(O,k)}return C};var bt=function(e){return e===null?"null":e===void 0?"undefined":e},At=function(e,r,s,a){var c,d=0,p=function(y){var m=s==="error cause"?"was":"received";a&&a.warn(s+" "+m+' a non-error: "'+y+'"');var C=new Error(s+" "+m+' a non-error. See "'+s+'" tab for more detail.');return C.name="InvalidError",C};if(!r)Ie(e)?c=e:(c=p(typeof e),d+=2);else switch(typeof e){case"string":case"number":case"boolean":c=new Error(String(e)),d+=1;break;case"function":c=p("function"),d+=2;break;case"object":e!==null&&Ie(e)?c=e:e!==null&&Zr(e)?(c=new Error(e.message||e.errorMessage),c.name=e.name||e.errorClass,d+=1):(c=p(e===null?"null":"unsupported object"),d+=2);break;default:c=p("nothing"),d+=2}if(!Oe(c))try{throw c}catch(y){Oe(y)&&(c=y,d=1)}return[c,d]};de.__type="browserjs";var Zr=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},je=de,en=function(e,r,s){var a=0,c=function(){if(a>=e.length)return s(null,!0);r(e[a],function(d,p){if(d)return s(d);if(p===!1)return s(null,!1);a++,c()})};c()},tn=function(e,r,s,a){var c=function(d,p){if(typeof d!="function")return p(null);try{if(d.length!==2){var y=d(r);return y&&typeof y.then=="function"?y.then(function(m){return setTimeout(function(){return p(null,m)})},function(m){setTimeout(function(){return s(m),p(null,!0)})}):p(null,y)}d(r,function(m,C){if(m)return s(m),p(null);p(null,C)})}catch(m){s(m),p(null)}};en(e,c,a)},wt=function(e,r,s,a){for(var c=!1,d=e.slice();!c&&d.length;)try{c=d.pop()(r)===!1}catch(p){a.error("Error occurred in "+s+" callback, continuing anyway…"),a.error(p)}return c},He=function(r,s){var a="000000000"+r;return a.substr(a.length-s)},Pt=typeof window=="object"?window:self,Lt=0;for(var rn in Pt)Object.hasOwnProperty.call(Pt,rn)&&Lt++;var nn=navigator.mimeTypes?navigator.mimeTypes.length:0,an=He((nn+navigator.userAgent.length).toString(36)+Lt.toString(36),4),Ct=function(){return an},be=0,Ve=4,Re=36,Tt=Math.pow(Re,Ve);function Ot(){return He((Math.random()*Tt<<0).toString(Re),Ve)}function sn(){return be=be<Tt?be:0,be++,be-1}function It(){var e="c",r=new Date().getTime().toString(Re),s=He(sn().toString(Re),Ve),a=Ct(),c=Ot()+Ot();return e+r+s+a+c}It.fingerprint=Ct;var on=It,un=function(){function e(){this.id=on(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var r=e.prototype;return r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},r._track=function(a){this[a._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),Ge=un,cn=he.add,ln=he.clear,ze=he.merge,fe=function(){},dn=function(){function e(s,a,c,d){var p=this;a===void 0&&(a=h.schema),c===void 0&&(c=[]),this._notifier=d,this._config={},this._schema=a,this._delivery={sendSession:fe,sendEvent:fe},this._logger={debug:fe,info:fe,warn:fe,error:fe},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=je,this.Breadcrumb=V,this.Session=Ge,this._config=this._configure(s,c),T(c.concat(this._config.plugins),function(C){C&&p._loadPlugin(C)}),this._depth=1;var y=this,m=this.notify;this.notify=function(){return m.apply(y,arguments)}}var r=e.prototype;return r.addMetadata=function(a,c,d){return me.add(this._metadata,a,c,d)},r.getMetadata=function(a,c){return me.get(this._metadata,a,c)},r.clearMetadata=function(a,c){return me.clear(this._metadata,a,c)},r.addFeatureFlag=function(a,c){c===void 0&&(c=null),cn(this._features,this._featuresIndex,a,c)},r.addFeatureFlags=function(a){ze(this._features,a,this._featuresIndex)},r.clearFeatureFlag=function(a){ln(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getContext=function(){return this._context},r.setContext=function(a){this._context=a},r._configure=function(a,c){var d=o(c,function(C,P){return P&&P.configSchema?E({},C,P.configSchema):C},this._schema),p=o(S(d),function(C,P){var O=d[P].defaultValue(a[P]);if(a[P]!==void 0){var w=d[P].validate(a[P]);w?d[P].allowPartialObject?C.config[P]=E(O,a[P]):C.config[P]=a[P]:(C.errors[P]=d[P].message,C.config[P]=O)}else C.config[P]=O;return C},{errors:{},config:{}}),y=p.errors,m=p.config;if(d.apiKey){if(!m.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(m.apiKey)||(y.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=E({},m.metadata),ze(this._features,m.featureFlags,this._featuresIndex),this._user=E({},m.user),this._context=m.context,m.logger&&(this._logger=m.logger),m.onError&&(this._cbs.e=this._cbs.e.concat(m.onError)),m.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(m.onBreadcrumb)),m.onSession&&(this._cbs.s=this._cbs.s.concat(m.onSession)),S(y).length&&this._logger.warn(fn(y,a)),m},r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r._loadPlugin=function(a){var c=a.load(this);return a.name&&(this._plugins["~"+a.name+"~"]=c),this},r.getPlugin=function(a){return this._plugins["~"+a+"~"]},r._setDelivery=function(a){this._delivery=a(this)},r.startSession=function(){var a=new Ge;a.app.releaseStage=this._config.releaseStage,a.app.version=this._config.appVersion,a.app.type=this._config.appType,a._user=E({},this._user);var c=wt(this._cbs.s,a,"onSession",this._logger);return c?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,a)},r.addOnError=function(a,c){c===void 0&&(c=!1),this._cbs.e[c?"unshift":"push"](a)},r.removeOnError=function(a){this._cbs.e=u(this._cbs.e,function(c){return c!==a})},r._addOnSessionPayload=function(a){this._cbs.sp.push(a)},r.addOnSession=function(a){this._cbs.s.push(a)},r.removeOnSession=function(a){this._cbs.s=u(this._cbs.s,function(c){return c!==a})},r.addOnBreadcrumb=function(a,c){c===void 0&&(c=!1),this._cbs.b[c?"unshift":"push"](a)},r.removeOnBreadcrumb=function(a){this._cbs.b=u(this._cbs.b,function(c){return c!==a})},r.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},r.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},r.leaveBreadcrumb=function(a,c,d){if(a=typeof a=="string"?a:"",d=typeof d=="string"&&l(n,d)?d:"manual",c=typeof c=="object"&&c!==null?c:{},!!a){var p=new V(a,c,d),y=wt(this._cbs.b,p,"onBreadcrumb",this._logger);if(y){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(p),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},r._isBreadcrumbTypeEnabled=function(a){var c=this._config.enabledBreadcrumbTypes;return c===null||l(c,a)},r.notify=function(a,c,d){d===void 0&&(d=fe);var p=je.create(a,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(p,c,d)},r._notify=function(a,c,d){var p=this;if(d===void 0&&(d=fe),a.app=E({},a.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),a.context=a.context||this._context,a._metadata=E({},a._metadata,this._metadata),a._user=E({},a._user,this._user),a.breadcrumbs=this._breadcrumbs.slice(),ze(a._features,this._features,a._featuresIndex),this._config.enabledReleaseStages!==null&&!l(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),d(null,a);var y=a.severity,m=function(P){p._logger.error("Error occurred in onError callback, continuing anyway…"),p._logger.error(P)},C=[].concat(this._cbs.e).concat(c);tn(C,a,m,function(P,O){if(P&&m(P),!O)return p._logger.debug("Event not sent due to onError callback"),d(null,a);p._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(p,a.errors[0].errorClass,{errorClass:a.errors[0].errorClass,errorMessage:a.errors[0].errorMessage,severity:a.severity},"error"),y!==a.severity&&(a._handledState.severityReason={type:"userCallbackSetSeverity"}),a.unhandled!==a._handledState.unhandled&&(a._handledState.severityReason.unhandledOverridden=!0,a._handledState.unhandled=a.unhandled),p._session&&(p._session._track(a),a._session=p._session),p._delivery.sendEvent({apiKey:a.apiKey||p._config.apiKey,notifier:p._notifier,events:[a]},function(w){return d(w,a)})})},e}(),fn=function(e,r){var s=new Error(`Invalid configuration
`+T(S(e),function(a){return"  - "+a+" "+e[a]+", got "+pn(r[a])}).join(`

`));return s},pn=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Ke=dn,ve={},Rt=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ve.event=function(e,r){var s=K(e,null,null,{redactedPaths:Rt,redactedKeys:r});return s.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+s.length/1e6+`MB (limit = 1MB)
metadata was removed`},s=K(e,null,null,{redactedPaths:Rt,redactedKeys:r})),s},ve.session=function(e,r){var s=K(e,null,null);return s};var Xe={};Xe=function(e,r){return r===void 0&&(r=window),{sendEvent:function(s,a){a===void 0&&(a=function(){});var c=kt(e._config,"notify","4",r),d=ve.event(s,e._config.redactedKeys),p=new r.XDomainRequest;p.onload=function(){a(null)},p.onerror=function(){var y=new Error("Event failed to send");e._logger.error("Event failed to send…",y),d.length>1e6&&e._logger.warn("Event oversized ("+(d.length/1e6).toFixed(2)+" MB)"),a(y)},p.open("POST",c),setTimeout(function(){try{p.send(d)}catch(y){e._logger.error(y),a(y)}},0)},sendSession:function(s,a){a===void 0&&(a=function(){});var c=kt(e._config,"sessions","1",r),d=new r.XDomainRequest;d.onload=function(){a(null)},d.open("POST",c),setTimeout(function(){try{d.send(ve.session(s,e._config.redactedKeys))}catch(p){e._logger.error(p),a(p)}},0)}}};var kt=function(e,r,s,a){var c=JSON.parse(JSON.stringify(new Date)),d=hn(e.endpoints[r],a.location.protocol);return d+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+s+"&sentAt="+encodeURIComponent(c)},hn=Xe._matchPageProtocol=function(e,r){return r==="http:"?e.replace(/^https:/,"http:"):e},gn=function(e,r){return r===void 0&&(r=window),{sendEvent:function(s,a){a===void 0&&(a=function(){});try{var c=e._config.endpoints.notify,d=new r.XMLHttpRequest,p=ve.event(s,e._config.redactedKeys);d.onreadystatechange=function(){if(d.readyState===r.XMLHttpRequest.DONE){var y=d.status;if(y===0||y>=400){var m=new Error("Request failed with status "+y);e._logger.error("Event failed to send…",m),p.length>1e6&&e._logger.warn("Event oversized ("+(p.length/1e6).toFixed(2)+" MB)"),a(m)}else a(null)}},d.open("POST",c),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Bugsnag-Api-Key",s.apiKey||e._config.apiKey),d.setRequestHeader("Bugsnag-Payload-Version","4"),d.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),d.send(p)}catch(y){e._logger.error(y)}},sendSession:function(s,a){a===void 0&&(a=function(){});try{var c=e._config.endpoints.sessions,d=new r.XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState===r.XMLHttpRequest.DONE){var p=d.status;if(p===0||p>=400){var y=new Error("Request failed with status "+p);e._logger.error("Session failed to send…",y),a(y)}else a(null)}},d.open("POST",c),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),d.setRequestHeader("Bugsnag-Payload-Version","1"),d.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),d.send(ve.session(s,e._config.redactedKeys))}catch(p){e._logger.error(p)}}}},Mt=new Date,mn=function(){Mt=new Date},vn={name:"appDuration",load:function(e){return e.addOnError(function(r){var s=new Date;r.app.duration=s-Mt},!0),{reset:mn}}},_n=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(s){s.context===void 0&&(s.context=e.location.pathname)},!0)}}},Qe=function(r,s){var a="000000000"+r;return a.substr(a.length-s)},Nt=typeof window=="object"?window:self,Dt=0;for(var yn in Nt)Object.hasOwnProperty.call(Nt,yn)&&Dt++;var Sn=navigator.mimeTypes?navigator.mimeTypes.length:0,En=Qe((Sn+navigator.userAgent.length).toString(36)+Dt.toString(36),4),xt=function(){return En},Ae=0,We=4,ke=36,qt=Math.pow(ke,We);function Ft(){return Qe((Math.random()*qt<<0).toString(ke),We)}function bn(){return Ae=Ae<qt?Ae:0,Ae++,Ae-1}function $t(){var e="c",r=new Date().getTime().toString(ke),s=Qe(bn().toString(ke),We),a=xt(),c=Ft()+Ft();return e+r+s+a+c}$t.fingerprint=xt;var An=$t,Ut="bugsnag-anonymous-id",wn=function(e){try{var r=e.localStorage,s=r.getItem(Ut);return s&&/^c[a-z0-9]{20,32}$/.test(s)||(s=An(),r.setItem(Ut,s)),s}catch{}},Pn=function(e,r){return e===void 0&&(e=navigator),r===void 0&&(r=window),{load:function(s){var a={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};r&&r.screen&&r.screen.orientation&&r.screen.orientation.type?a.orientation=r.screen.orientation.type:r&&r.document&&(a.orientation=r.document.documentElement.clientWidth>r.document.documentElement.clientHeight?"landscape":"portrait"),s._config.generateAnonymousId&&(a.id=wn(r)),s.addOnSession(function(c){c.device=E({},c.device,a),s._config.collectUserIp||Bt(c)}),s.addOnError(function(c){c.device=E({},c.device,a,{time:new Date}),s._config.collectUserIp||Bt(c)},!0)},configSchema:{generateAnonymousId:{validate:function(s){return s===!0||s===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Bt=function(e){var r=e.getUser();(!r||!r.id)&&e.setUser(e.device.id)},Ln=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(s){s.request&&s.request.url||(s.request=E({},s.request,{url:e.location.href}))},!0)}}},Cn={load:function(e){e._sessionDelegate=Tn}},Tn={startSession:function(e,r){var s=e;return s._session=r,s._pausedSession=null,s._config.enabledReleaseStages!==null&&!l(s._config.enabledReleaseStages,s._config.releaseStage)?(s._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),s):(s._delivery.sendSession({notifier:s._notifier,device:r.device,app:r.app,sessions:[{id:r.id,startedAt:r.startedAt,user:r._user}]}),s)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},On={load:function(e){e._config.collectUserIp||e.addOnError(function(r){r._user&&typeof r._user.id>"u"&&delete r._user.id,r._user=E({id:"[REDACTED]"},r._user),r.request=E({clientIp:"[REDACTED]"},r.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},jt={};jt.load=function(e){var r=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);r||!e._isBreadcrumbTypeEnabled("log")||T(In,function(s){var a=console[s];console[s]=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];e.leaveBreadcrumb("Console output",o(d,function(y,m,C){var P="[Unknown value]";try{P=String(m)}catch{}if(P==="[object Object]")try{P=JSON.stringify(m)}catch{}return y["["+C+"]"]=P,y},{severity:s.indexOf("group")===0?"log":s}),"log"),a.apply(console,d)},console[s]._restore=function(){console[s]=a}})};var In=u(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),Ht=200,Vt=5e5,Rn=function(e,r){return e===void 0&&(e=document),r===void 0&&(r=window),{load:function(s){if(!s._config.trackInlineScripts)return;var a=r.location.href,c="",d=!!e.attachEvent,p=d?e.readyState==="complete":e.readyState!=="loading",y=function(){return e.documentElement.outerHTML};c=y();var m=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(c=y(),p=!0);try{m.apply(this,arguments)}catch{}};var C=null,P=function(I){C=I},O=function(){var I=e.currentScript||C;if(!I&&!p){var D=e.scripts||e.getElementsByTagName("script");I=D[D.length-1]}return I},w=function(I){(!p||!c)&&(c=y());var D=["<!-- DOC START -->"].concat(c.split(`
`)),Q=I-1,X=Math.max(Q-3,0),te=Math.min(Q+3,D.length);return o(D.slice(X,te),function(ee,we,et){return ee[X+1+et]=we.length<=Ht?we:we.substr(0,Ht),ee},{})};s.addOnError(function(I){I.errors[0].stacktrace=u(I.errors[0].stacktrace,function(ee){return!/__trace__$/.test(ee.method)});var D=I.errors[0].stacktrace[0],Q=function(ee){return ee.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(D&&D.file&&Q(D.file)!==Q(a))){var X=O();if(X){var te=X.innerHTML;I.addMetadata("script","content",te.length<=Vt?te:te.substr(0,Vt)),D&&D.lineNumber&&(D.code=w(D.lineNumber))}}},!0);var k=T(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(I){return Je(r,I,function(D){return G(D,function(Q){return{get:function(){return Q[0]},replace:function(X){Q[0]=X}}})})}),x=k[0];T(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(I){!r[I]||!r[I].prototype||!Object.prototype.hasOwnProperty.call(r[I].prototype,"addEventListener")||(Je(r[I].prototype,"addEventListener",function(D){return G(D,Gt)}),Je(r[I].prototype,"removeEventListener",function(D){return G(D,Gt,!0)}))});function G(I,D,Q){return Q===void 0&&(Q=!1),function(){var X=[].slice.call(arguments);try{var te=D(X),ee=te.get();if(Q&&I.apply(this,X),typeof ee!="function")return I.apply(this,X);if(ee.__trace__)te.replace(ee.__trace__);else{var we=O();ee.__trace__=function(){P(we),x(function(){P(null)},0);var zn=ee.apply(this,arguments);return P(null),zn},ee.__trace__.__trace__=ee.__trace__,te.replace(ee.__trace__)}}catch{}if(I.apply)return I.apply(this,X);switch(X.length){case 1:return I(X[0]);case 2:return I(X[0],X[1]);default:return I()}}}},configSchema:{trackInlineScripts:{validate:function(s){return s===!0||s===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function Je(e,r,s){var a=e[r];if(!a)return a;var c=s(a);return e[r]=c,a}function Gt(e){var r=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return r?e[1].handleEvent:e[1]},replace:function(s){r?e[1].handleEvent=s:e[1]=s}}}var kn=function(e){return e===void 0&&(e=window),{load:function(r){"addEventListener"in e&&r._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(s){var a,c;try{a=Nn(s.target),c=zt(s.target,e)}catch{a="[hidden]",c="[hidden]",r._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}r.leaveBreadcrumb("UI click",{targetText:a,targetSelector:c},"user")},!0)}}},Mn=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function Nn(e){var r=e.textContent||e.innerText||"";return!r&&(e.type==="submit"||e.type==="button")&&(r=e.value),r=r.replace(Mn,"$1"),r.length>140?r.slice(0,135)+"(...)":r}function zt(e,r){var s=[e.tagName];if(e.id&&s.push("#"+e.id),e.className&&e.className.length&&s.push("."+e.className.split(" ").join(".")),!r.document.querySelectorAll||!Array.prototype.indexOf)return s.join("");try{if(r.document.querySelectorAll(s.join("")).length===1)return s.join("")}catch{return s.join("")}if(e.parentNode.childNodes.length>1){var a=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;s.push(":nth-child("+a+")")}return r.document.querySelectorAll(s.join("")).length===1?s.join(""):e.parentNode?zt(e.parentNode,r)+" > "+s.join(""):s.join("")}var Kt={};Kt=function(e){e===void 0&&(e=window);var r={load:function(s){if("addEventListener"in e&&s._isBreadcrumbTypeEnabled("navigation")){var a=function(c){return function(){return s.leaveBreadcrumb(c,{},"navigation")}};e.addEventListener("pagehide",a("Page hidden"),!0),e.addEventListener("pageshow",a("Page shown"),!0),e.addEventListener("load",a("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",a("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",a("Navigated back"),!0)}),e.addEventListener("hashchange",function(c){var d=c.oldURL?{from:Me(c.oldURL,e),to:Me(c.newURL,e),state:Qt(e)}:{to:Me(e.location.href,e)};s.leaveBreadcrumb("Hash changed",d,"navigation")},!0),e.history.replaceState&&Xt(s,e.history,"replaceState",e),e.history.pushState&&Xt(s,e.history,"pushState",e)}}};return r};var Me=function(e,r){var s=r.document.createElement("A");return s.href=e,""+s.pathname+s.search+s.hash},Dn=function(e,r,s,a){var c=Me(e.location.href,e);return{title:s,state:r,prevState:Qt(e),to:a||c,from:c}},Xt=function(e,r,s,a){var c=r[s];r[s]=function(d,p,y){e.leaveBreadcrumb("History "+s,Dn(a,d,p,y),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),c.apply(r,[d,p].concat(y!==void 0?y:[]))}},Qt=function(e){try{return e.history.state}catch{}},_e="request",xn=function(e,r){e===void 0&&(e=[]),r===void 0&&(r=window);var s={load:function(a){if(!a._isBreadcrumbTypeEnabled("request"))return;var c=[a._config.endpoints.notify,a._config.endpoints.sessions].concat(e);d(),m();function d(){if("addEventListener"in r.XMLHttpRequest.prototype){var O=r.XMLHttpRequest.prototype.open;r.XMLHttpRequest.prototype.open=function(k,x){var G=this,I=!1,D=function(){return y(k,x)},Q=function(){return p(k,x,G.status)};I&&(this.removeEventListener("load",Q),this.removeEventListener("error",D)),this.addEventListener("load",Q),this.addEventListener("error",D),I=!0,O.apply(this,arguments)}}}function p(O,w,k){if(w===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof w=="string"&&l(c,w.replace(/\?.*$/,"")))){var x={status:k,request:O+" "+w};k>=400?a.leaveBreadcrumb("XMLHttpRequest failed",x,_e):a.leaveBreadcrumb("XMLHttpRequest succeeded",x,_e)}}function y(O,w){if(w===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof w=="string"&&l(c,w.replace(/\?.*$/,""))||a.leaveBreadcrumb("XMLHttpRequest error",{request:O+" "+w},_e)}function m(){if(!(!("fetch"in r)||r.fetch.polyfill)){var O=r.fetch;r.fetch=function(){var k=arguments,x=arguments[0],G=arguments[1],I,D=null;return x&&typeof x=="object"?(D=x.url,G&&"method"in G?I=G.method:x&&"method"in x&&(I=x.method)):(D=x,G&&"method"in G&&(I=G.method)),I===void 0&&(I="GET"),new Promise(function(Q,X){O.apply(void 0,k).then(function(te){C(te,I,D),Q(te)}).catch(function(te){P(I,D),X(te)})})}}}var C=function(O,w,k){var x={status:O.status,request:w+" "+k};O.status>=400?a.leaveBreadcrumb("fetch() failed",x,_e):a.leaveBreadcrumb("fetch() succeeded",x,_e)},P=function(O,w){a.leaveBreadcrumb("fetch() error",{request:O+" "+w},_e)}}};return s},qn={load:function(e){var r=0;e.addOnError(function(s){if(r>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;r++}),e.resetEventCount=function(){r=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return L(1,100)(e)}}}},Ye={};Ye={load:function(e){e.addOnError(function(r){var s=o(r.errors,function(a,c){return a.concat(c.stacktrace)},[]);T(s,function(a){a.file=Fn(a.file)})})}};var Fn=Ye._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},$n=function(e,r){return e===void 0&&(e=window),r===void 0&&(r="window onerror"),{load:function(s){if(!s._config.autoDetectErrors||!s._config.enabledErrorTypes.unhandledExceptions)return;function a(d,p,y,m,C){if(y===0&&/Script error\.?/.test(d))s._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var P={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},O;if(C)O=s.Event.create(C,!0,P,r,1),Wt(O.errors[0].stacktrace,p,y,m);else if(typeof d=="object"&&d!==null&&(!p||typeof p!="string")&&!y&&!m&&!C){var w=d.type?"Event: "+d.type:"Error",k=d.message||d.detail||"";O=s.Event.create({name:w,message:k},!0,P,r,1),O.originalError=d,O.addMetadata(r,{event:d,extraParameters:p})}else O=s.Event.create(d,!0,P,r,1),Wt(O.errors[0].stacktrace,p,y,m);s._notify(O)}typeof c=="function"&&c.apply(this,arguments)}var c=e.onerror;e.onerror=a}}},Wt=function(e,r,s,a){e[0]||e.push({});var c=e[0];!c.file&&typeof r=="string"&&(c.file=r),!c.lineNumber&&Ze(s)&&(c.lineNumber=s),c.columnNumber||(Ze(a)?c.columnNumber=a:window.event&&Ze(window.event.errorCharacter)&&(c.columnNumber=window.event.errorCharacter))},Ze=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},Un=function(e){e===void 0&&(e=window);var r={load:function(s){if(!(!s._config.autoDetectErrors||!s._config.enabledErrorTypes.unhandledRejections)){var a=function(c){var d=c.reason,p=!1;try{c.detail&&c.detail.reason&&(d=c.detail.reason,p=!0)}catch{}var y=s.Event.create(d,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,s._logger);p&&T(y.errors[0].stacktrace,Bn(d)),s._notify(y,function(m){if(Ie(m.originalError)&&!m.originalError.stack){var C;m.addMetadata("unhandledRejection handler",(C={},C[Object.prototype.toString.call(m.originalError)]={name:m.originalError.name,message:m.originalError.message,code:m.originalError.code},C))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",a):e.onunhandledrejection=function(c,d){a({detail:{reason:c,promise:d}})}}}};return r},Bn=function(e){return function(r){r.file!==e.toString()&&r.method&&(r.method=r.method.replace(/^\s+/,""))}},ge={},jn="Bugsnag JavaScript",Hn="7.25.0",Vn="https://github.com/bugsnag/bugsnag-js",Gn=E({},h.schema,q),Z={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var r=[vn,Pn(),_n(),Ln(),qn,Cn,On,Ye,$n(),Un(),Kt(),kn(),xn(),jt,Rn()],s=new Ke(e,Gn,r,{name:jn,version:Hn,url:Vn});return s._setDelivery(window.XDomainRequest?Xe:gn),s._logger.debug("Loaded!"),s.leaveBreadcrumb("Bugsnag loaded",{},"state"),s._config.autoTrackSessions?s.startSession():s},start:function(e){return Z._client?(Z._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Z._client):(Z._client=Z.createClient(e),Z._client)},isStarted:function(){return Z._client!=null}};return T(["resetEventCount"].concat(S(Ke.prototype)),function(e){/^_/.test(e)||(Z[e]=function(){if(!Z._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");Z._client._depth+=1;var r=Z._client[e].apply(Z._client,arguments);return Z._client._depth-=1,r})}),ge=Z,ge.Client=Ke,ge.Event=je,ge.Session=Ge,ge.Breadcrumb=V,ge.default=Z,ge})}(rt)),rt.exports}var nt,sr;function Mi(){return sr||(sr=1,nt=ki()),nt}var Ni=Mi();const Di=va(Ni);function Se(i,t){i.addMetadata("bugsnag",{shouldSend:t})}function xi(i){return function(n){Se(n,!0),_a(n);const o=n.request.url||"";if(!URL.canParse(o)){Se(n,!1);return}const u=URL.parse(o);if(!u||qi(u)||Fi(u)){Se(n,!1);return}if($i(n)){Se(n,!1);return}if(n.errors.some(f=>{const g=f.stacktrace.map(_=>`${_.file} ${_.method}`).join(" ");return n.context==="/admin/files"&&f.errorMessage.includes("SecurityError")||ya(f.errorMessage,{pathName:window.location.pathname,errorGroup:"browser",errorClass:f.errorClass,stacktrace:g})||Sa(n.originalError)||f.errorMessage===void 0||f.errorMessage==="undefined"||f.errorClass==="Unauthorized"})){Se(n,!1);return}i(n)===!1&&Se(n,!1)}}function qi(i){return i.protocol==="file:"||i.protocol==="blob:"||i.protocol==="content:"}function Fi(i){return!((i==null?void 0:i.hostname)==="admin.shopify.com"||i!=null&&i.hostname.match(/\.myshopify\.com$/))}function $i(i){var t;return((t=i.getMetadata("unhandledrejection handler"))==null?void 0:t["non-error parameter"])==="undefined"}const Ui=/^\/signup\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})(\/(.*))?$/,Bi=["[gtm: error] gtm iframe failed to load","[gtm: error] gtm failed to acknowledge message","Data Collector must be created with Kount and/or PayPal."];function ji(i){var f;if(!((f=i.request.path)==null?void 0:f.startsWith("/signup")))return;const n=Hi(),o=i.errors[0],{errorMessage:u=""}=o;Bi.forEach(g=>{u===g&&(i.groupingHash=g)}),i.addMetadata("signup",{signupUuid:n.signupUuid,country:n.country,experimentAssignments:n.experimentAssignments,locale:n.locale,page:Ea(location.pathname),phase:n.phase,sequenceSteps:n.sequenceSteps,signupTypes:n.signupTypes});const[,l]=i.request.path.match(Ui)||[];i.request.path=i.request.path.replace(l,":signup_uuid")}function Hi(){const i=document.querySelector('[data-serialized-id="signup-context"]'),t=i==null?void 0:i.textContent;try{return t?JSON.parse(t):{}}catch{return{}}}function Vi(i){var t;return!!(i&&((t=i.extraInfo)!=null&&t.operation))}function Gi(i){var t,n;for(const o of i.errors){const u=i.originalError;if(!ht(u)||u.cause)return;if(Vi(u))o.errorClass=`QueryError:${u.extraInfo.operation}`;else if(mr((t=u.graphQLErrors[0])==null?void 0:t.originalError)){const l=URL.parse((n=u.graphQLErrors[0])==null?void 0:n.originalError.response.url);l&&(o.errorClass=`QueryError:${l.searchParams.get("operation")}`)}}}const zi=["The play() request was interrupted because the media was removed from the document. https://goo.gl/LdLk22","Error: Syntax not recognized - Unsupported visualization type Source: ANTLR Transformer Range: 19:24 - 19:34"];function Ki(i){const t=i.errors[0],{errorMessage:n=""}=t;zi.forEach(o=>{n===o&&(i.groupingHash=o)})}const or="UNKNOWN_ERROR",ur="UNKNOWN_PATH";function Xi(i){const t=i.networkError;if(mr(t))return`[HTTP/${t.statusCode}]`;const n=new Set(i.graphQLErrors.map(({extensions:f})=>(f==null?void 0:f.code)??or)),o=new Set(i.graphQLErrors.map(({path:f})=>(f==null?void 0:f.at(-1))||ur)),u=n.size?[...n]:[or],l=o.size?[...o]:[ur];return u.length===1?`[${u[0]}@${l.join(",")}]`:`[MIXED_ERRORS@${l.length===1?l[0]:"MIXED_PATHS"}]`}function Qi(i,t){return ht(t)?`${i.errorClass}${Xi(t)}`:i.errorClass}function Wi(i){if(!i.cause){for(const t of i.graphQLErrors)if(t.cause){i.cause=t.cause;break}}}const Ji="https://cdn.shopify.com/s/assets",Yi="webpack:///client/bugsnag",Zi="https://error-analytics-production.shopifysvc.com",es="https://error-analytics-sessions-production.shopifysvc.com",Ee=ft(),ts=i=>async t=>{const n=t.getMetadata("custom")??{},{sliceName:o,routeId:u,targetNormalizedPathname:l,errorBoundary:f}=n,g=t.getMetadata("bugsnag")??{},{shouldSend:_}=g,S={sliceName:o,routeId:u,targetNormalizedPathname:l,errorBoundary:f,notifiedBugsnag:_},L=t.originalError instanceof Error?t.originalError:void 0;i.log("error","Error captured",{...S,errorMessage:(L==null?void 0:L.message)??t.errors[0].errorMessage,errorName:(L==null?void 0:L.name)??t.errors[0].errorClass,errorStack:(L==null?void 0:L.stack)??""}),i.record(oe.AppError,1,S);for(const A of t.errors){const b=fs(A.stacktrace,t.request.url);b>0&&i.log("info","Suspicious error captured",{errorMessage:A.errorMessage,errorStack:(L==null?void 0:L.stack)||"",totalFrameCount:A.stacktrace.length,suspiciousFrameCount:b})}},{supported:rs}=(Ee==null?void 0:Ee.browser)??{},{apiKey:Sr,appVersion:ns,releaseStage:at}=(Ee==null?void 0:Ee.bugsnag)??{},as=rs?xi(ls):()=>!1,ct=i=>{const t=i.getMetadata("bugsnag")??{},{shouldSend:n}=t;if(!n)return!1},Er={apiKey:Sr,autoTrackSessions:!0,trackInlineScripts:!1,releaseStage:at,appVersion:ns,enabledErrorTypes:{unhandledExceptions:!0,unhandledRejections:!0},enabledBreadcrumbTypes:["error","manual","navigation","user"],enabledReleaseStages:/^(production|canary|performance|staging-([a-z0-9]{4})|(us-central|us-east)-(production|tiny))$/.test(at)?[at]:[],maxBreadcrumbs:40,onError:as,endpoints:{notify:Zi,sessions:es}};Er.logger=null;const br=i=>{const t=i.reason;t instanceof Error&&wr(t)&&Wi(t)};window.addEventListener("unhandledrejection",br);const N=Sr?Di.createClient(Er):null;N==null||N.addOnError(ct);if(navigator.connection){const{downlink:i,effectiveType:t,rtt:n,type:o,saveData:u}=navigator.connection;N==null||N.addMetadata("connection",{downlink:i,effectiveType:t,rtt:n,type:o,saveData:u})}const{sessionId:is,requestDetails:ss,enabledBetas:os,isShopifyStaff:us}=ft()??{};Ar({...ss,enabledBetas:os,sessionId:is,isShopifyStaff:us});const cs=j(({ensure:i,registerCleanup:t})=>{t(()=>window.removeEventListener("unhandledrejection",br));const n={leaveBreadcrumb(o,u,l){N==null||N.leaveBreadcrumb(o,u,l)},notify(o,u){const l=u||{},f=l.metaData||{};if(wr(o)){const{graphQLErrors:_=[]}=o;f.graphQL=_.reduce((S,L,A)=>(S[A+1]=JSON.stringify(L),S),{})}const g=N==null?void 0:N.Event.create(o,!0,{severity:l.severity||"warning",unhandled:!1,severityReason:{type:"handledException"}},"notify()",2);g&&(f&&Object.keys(f).length!==0&&Object.keys(f).forEach(_=>{_==="react"?g.addMetadata("react",f[_]):g.addMetadata("custom",{[_]:f[_]})}),N==null||N._notify(g))},addOnError(o){return N==null||N.addOnError(o),()=>{N==null||N.removeOnError(o)}},setFlags(o){Pr(o)},updateMetadata(o){Ar(o)},clearMetadata(){N==null||N.clearMetadata("user")}};return i(["flags"]).then(({flags:o})=>{t(ba(()=>n.setFlags(o.enabled)))}).catch(o=>{throw o}),i(["requestDetails"]).then(({requestDetails:o})=>{n.updateMetadata(o)}).catch(o=>{throw o}),i(["instrumentation"]).then(({instrumentation:o})=>{const u=n.addOnError(l=>{const f=l.getMetadata("bugsnag")??{};(l.getMetadata("custom")??{}).errorBoundary==="router"&&o.setPageViewErrorReported(f.shouldSend)});t(u)}).catch(o=>{throw o}),i(["router","metrics"]).then(({router:o,metrics:u})=>{N==null||N.removeOnError(ct);const l=n.addOnError(_=>{const S=ds(o,_.originalError);_.addMetadata("custom",S)});t(l);const f=n.addOnError(ts(u));t(f);const g=n.addOnError(ct);t(g)}).catch(o=>{throw o}),n});function Ar(i){const{shop:t,staffMember:n,isShopifyStaff:o,sessionId:u,enabledBetas:l=[]}=i,f=vr()?hr():void 0,g={shopId:t==null?void 0:t.shopId,shopDomain:t==null?void 0:t.shopDomain,userId:n==null?void 0:n.userId,userUuid:f,isShopifyEmployee:o??(t==null?void 0:t.isShopifyEmployee),sessionId:u};N==null||N.addMetadata("user",g),N==null||N.setUser(f),Pr(l)}function wr(i){return!!i&&Array.isArray(i.graphQLErrors)}function Pr(i){N==null||N.clearFeatureFlags(),N==null||N.addFeatureFlags(i.map(t=>({name:t})))}function ls(i){i.addMetadata("errors",{errors:i.errors.map(S=>({type:S.type,class:S.errorClass,message:S.errorMessage,stacktrace:S.stacktrace}))});const t=document.location.pathname.replace(/(^\/|\/$)/g,""),n=()=>t.startsWith("signup")?0:vr()?2:1,o=t.split("/").slice(n()),[u="home",l]=o,f=u==="settings"&&l?l:u;let g;const _=i.errors.every(S=>S.stacktrace.every(({file:L})=>L.startsWith(Ji)||L.startsWith(Yi)||L.startsWith("global code")||L.startsWith("undefined")||L.startsWith("[native code]")));o.length<=1?g="index":l?l==="new"?g="new":/^\d+$/.test(l)?g="show":g="unknown":g="unknown",Gi(i),Ki(i),ji(i),i.errors.forEach(S=>{S.errorClass=Qi(S,i.originalError)}),i.addMetadata("app",{adminAction:g,adminSection:f,adminNext:_})}function ds(i,t){const n=i.getRouteInfo();let o,u=t;for(;!o&&u;)o=Aa(u),u=u.cause;const l=o?i.getRouteInfo(o):void 0,f=(l==null?void 0:l.sliceName)??(n==null?void 0:n.sliceName)??"unknown",g=(l==null?void 0:l.sliceId)??(n==null?void 0:n.sliceId)??"unknown",_=o??(n==null?void 0:n.manifestRouteId)??"unknown",S=(l==null?void 0:l.pathPattern)??(n==null?void 0:n.pathPattern)??"unknown";return{sliceName:f,routeId:_,targetNormalizedPathname:S,callerSliceName:l?n==null?void 0:n.sliceName:void 0,callerRouteId:l?n==null?void 0:n.manifestRouteId:void 0,slice_name:f,slice_id:g}}function fs(i,t){let n=0;for(const o of i)(o.file===""||o.file===t||o.file==="global code")&&n++;return n}function ps(i,t){return t?i.filter((o,u)=>u<t.length&&t[u]):[]}async function Lr(i){var n;const{data:t}=await i.query(wa,{variables:{betaNames:er}});return ps(er,(n=t==null?void 0:t.shop)==null?void 0:n.enabledFlags)}const Le="admin_react_beta_flag_diagnostics";async function hs({isStoreList:i,enabledBetas:t,graphqlLite:n,isDevelopment:o}){return i?[]:t??await Lr(n)}const gs=j(async({url:i,ensure:t,graphqlLite:n,ensureSync:o,serverData:u,unified:l})=>{const f=!l.storeHandle&&!u.enabledBetas,g=B([]),_=B(await hs({isDevelopment:qe,isStoreList:f,enabledBetas:u.enabledBetas,graphqlLite:n})),S=ie(()=>Array.from(g.value.reduce((h,v)=>(h.has(v)?h.delete(v):h.add(v),h),new Set(_.value)))),L=ie(()=>new Set(S.value)),A=new xe;if(!f){const{requestDetails:h}=await t(["requestDetails"]),{isShopifyEmployee:v,isStaffShop:E}=h.shop;try{(v||E||gt(i.hostname)||qe)&&A.get(Le)&&(g.value=Array.from(new Set([...String(A.get(Le)).split(",").map(T=>tr(T)).filter(T=>T!==void 0)])))}catch{}}function b(h,v){const{router:E}=o(["router"]);if(E.revalidate(),h.filter(M=>!v.includes(M)).concat(v.filter(M=>!h.includes(M))).some(M=>Pa(M))){const{assets:M}=o(["assets"]);M.forceReloadAssets()}}return{async refetch(){const h=_.value;_.value=await Lr(n),b(_.value,h)},get overrides(){return g.value},get enabled(){return S.value},get(h){return L.value.has(h)},update(h){const v=_.value;_.value=h,b(h,v)},updateOverrides(h){const v=g.value,E=h.map(T=>tr(T)).filter(T=>T!==void 0);g.value=E,h.length>0?A.set(Le,h.join(","),{path:"/"}):A.remove(Le,{path:"/"}),b(h,v)},clearOverrides(){const h=g.value;g.value=[],A.remove(Le,{path:"/"}),b([],h)}}}),Ce="admin_react_permission_diagnostics",ms=j(async({url:i,ensure:t,ensureSync:n})=>{const{requestDetails:o}=await t(["requestDetails"]),u=B([]),l=B(o.permissions),f=ie(()=>{const A=Array.from(u.value.reduce((b,h)=>(b.has(h)?b.delete(h):b.add(h),b),new Set(l.value)));return new La(A)}),{isShopifyEmployee:g,isStaffShop:_}=o.shop,S=new xe;try{if((g||_||gt(i.hostname)||qe)&&S.get(Ce)){const A=String(S.get(Ce)).split(",");u.value=A.filter(b=>f.value.include(b))}}catch{}function L(A,b){const{router:h}=n(["router"]);if(h.revalidate(),A.filter(E=>!b.includes(E)).concat(b.filter(E=>!A.includes(E))).some(E=>Ca(E))){const{assets:E}=n(["assets"]);E.forceReloadAssets()}}return{get overrides(){return u.value},get enabled(){return f.value},include(A){return f.value.include(A)},missing(A){return f.value.missing(A)},update(A){const b=l.value;l.value=A,L(A,b)},updateOverrides(A){const b=u.value;u.value=A,A.length>0?S.set(Ce,A.join(","),{path:"/"}):S.remove(Ce,{path:"/"}),L(A,b)},clearOverrides(){const A=u.value;u.value=[],S.remove(Ce,{path:"/"}),L([],A)}}}),{createHttpProducer:vs,createLogProducer:_s}=Ta,Cr=vs,ys=_s,cr="admin-web",Tr={detectInterceptedErrorEnabled:!0};function Ss({debugMode:i=!1,production:t}={}){return t?Cr({production:t,options:Tr}):ys({debugMode:i})}class $e extends Error{constructor(...n){var o;super(...n);U(this,"name","MonorailProduceError");(o=Error.captureStackTrace)==null||o.call(Error,this,$e)}excludeProduceFromStackTrace(n){var o;(o=Error.captureStackTrace)==null||o.call(Error,this,n)}}function lr(i,t,n,o){const u=Ss(i),l=Cr({production:!0,options:Tr}),f=({schemaId:_,payload:S,noop:L})=>{if(L)return Promise.resolve({});const A={schemaId:_,metadata:{client:cr},payload:{...t||{},...(n==null?void 0:n())||{},...S}};let b=u;fr.includes(_)&&!(i!=null&&i.production)&&!(i!=null&&i.debugMode)&&(b=l);const h=new $e;return h.excludeProduceFromStackTrace(f),b.produce(A).then(()=>{o==null||o("Monorail produce",{schemaId:_},"request")}).catch(v=>{o==null||o("Monorail produce",{error:!0,schemaId:_},"error"),dr(v,h,`${v.name}[${_}]`)})},g=({events:_})=>{const S=_.map(b=>({...b,metadata:{client:cr},payload:{...t||{},...(n==null?void 0:n())||{},...b.payload||{}}})),L=S.filter(({schemaId:b})=>fr.includes(b)&&!(i!=null&&i.production)),A=new $e;return A.excludeProduceFromStackTrace(g),L.length>0?(i!=null&&i.debugMode&&u.produceBatch({events:S}),l.produceBatch({events:L}).catch(b=>{throw b.cause=A,b.name=`${b.name}[Batch]`,b})):u.produceBatch({events:S}).then(()=>{o==null||o("Monorail produce batch",{schemaIds:_.map(({schemaId:b})=>b)},"request")}).catch(b=>{o==null||o("Monorail produce batch",{error:!0,schemaIds:_.map(({schemaId:h})=>h)},"error"),dr(b,A,`${b.name}[Batch]`)})};return{produce:f,produceBatch:g}}function dr(i,t,n){if(!Oa(i))throw i.cause=t,i.name=n,i}const fr=["dev_ui_tab_click/1.1","dev_ui_button_click/1.1","dev_ui_open/1.1","dev_ui_totally_click/1.0","dev_ui_drag/1.0"];function Es(i){const t=n=>{const o=n.target.closest("a");if(!o)return;const u=bs(o);if(u)switch(u){case"admin_page_breadcrumbs_click/1.0":i.produce({schemaId:u,payload:{pageUrl:window.location.href}});break}};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}const bs=i=>{var n;const t=i==null?void 0:i.getAttribute("data-tracking");if(t!=null&&t.startsWith("monorail:"))return(n=t.split(":"))==null?void 0:n.at(1)},As=()=>(Ra(ka),Ma);function ws({locale:i,requestDetails:t,router:n,errorLogger:o}){var A;const{shopId:u,isShopifyEmployee:l,shopifyEmployeeId:f}=t.shop??{},g={debugMode:As(),production:Na};if(!u)return lr(g,L(),L,o.leaveBreadcrumb);const _=parseInt(((A=t.staffMember)==null?void 0:A.userId)||"",10)||void 0,S={locale:i,shopId:parseInt(u,10),shopifyEmployee:l,shopifyEmployeeId:f,shopUserId:_,tabId:Ia(),userId:_,...L()};function L(){return{manifestRouteId:n.getRouteInfo().manifestRouteId??"unknown",pageRequestId:n.navigationId,pageViewToken:n.pageViewToken}}return lr(g,S,L,o.leaveBreadcrumb)}const Ps=j(async({ensure:i,registerCleanup:t})=>{const n=ws(await i(["locale","requestDetails","router","errorLogger"])),o=Es(n);return t(o),n}),it="admin_react_search_eval_diagnostics",Ls=j(({url:i,ensure:t})=>{const n=B(!1);return t(["requestDetails"]).then(({requestDetails:o})=>{const u=new xe,{isShopifyEmployee:l}=o.shop;try{(l||gt(i.hostname))&&(n.value=String(u.get(it))==="1")}catch{}}).catch(o=>{}),{get searchRatingEnabled(){return n.value},toggleSearchRatingEnabled(){n.value=!n.value;const o=new xe;n.value?o.set(it,"1",{path:"/"}):o.remove(it,{path:"/"})}}}),Cs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OrganizationContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featureSet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationPermissions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userLimits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enforced"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"used"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:162,source:{name:"GraphQL request",locationOffset:{line:1,column:1}}},id:"cff965b9063e6afb73c9ec882612e464e5f640b948363c521c789adc011308cb"},Or={enforced:!1,maxAllowed:0,used:0},Ts=j(async({ensure:i,errorLogger:t})=>{var u;const{shopFeatures:n,organizationGraphql:o}=await i(["shopFeatures","organizationGraphql"]);if(!n.hasOrgSettings&&!n.rbacEnabled)return null;try{const{data:l,error:f}=await o.query({query:Cs,fetchPolicy:"network-only"});f&&t.notify(f);const g=l.organization,_=(u=g==null?void 0:g.currentUser)==null?void 0:u.organizationPermissions,S=(g==null?void 0:g.featureSet)||[],L=[],A=Os(g);if(_){const b=Object.values(Da);for(const h of _){const v=h.toUpperCase();b.includes(v)&&L.push(v)}}return{features:S,permissions:L,userLimits:A}}catch(l){if(ht(l)&&Is(l)){const{metrics:f}=await i(["metrics"]);return f.log("error","OrganizationContextAccessDeniedError",{message:l.message}),null}throw l}});function Os(i){return i!=null&&i.userLimits?{enforced:!!i.userLimits.enforced,maxAllowed:i.userLimits.maxAllowed,used:i.userLimits.used}:Or}function Is(i){const{graphQLErrors:t}=i;return t?t.some(n=>{var o;if(((o=n.extensions)==null?void 0:o.code)==="ACCESS_DENIED")return!0}):!1}const Rs=j(()=>{const i=B(!1);function t(n){queueMicrotask(()=>{i.value=n})}return{get supportsContextualCommerce(){return i.value},setSupportsContextualCommerce:t}}),ks=1e3*60*60*24,Ms=1e3*60,Ns=j(({registerCleanup:i})=>{const t=B(!1),n=()=>{t.value=!0},o=Date.now(),u=setInterval(()=>{Date.now()-o>ks&&(n(),clearInterval(u))},Ms);return i(()=>{clearInterval(u)}),{get shouldReloadAssets(){return t.value},forceReloadAssets:n}}),Ds=j(i=>{const t=B({}),n=B({});return{get forms(){return t.value},registerForm(o){const u=i.router.getRouteId();u&&(t.value={[u]:{...t.value[u],[o.name]:o}})},unregisterForm(o){const u=i.router.getRouteId();if(!u)return;const l=t.value[u];!l||!(o in l)||(delete l[o],t.value={...t.value,[u]:l})},get activeForms(){const o=i.router.getRouteId();return o?Object.values(t.value[o]??{}):[]},setPrefilledFormData(o,{data:u,source:l}){n.value={...n.value,[o]:{data:u,source:l}}},getPrefilledFormData(o){const{[o]:u,...l}=n.value;return u&&(n.value=l),u}}}),xs=j(async({ensure:i})=>{const{requestDetails:t}=await i(["requestDetails"]),n=B(t.entitlements),o=B([]),u=ie(()=>{const f=xa(n.value);return o.value.forEach(({path:g,value:_})=>qa(f,g,_)),f});return qs({entitlements:u,overrideHandlers:{get overrides(){return o.value},clearOverrides(){o.value=[]},updateOverride(f){const g=[...o.value],_=g.findIndex(({path:L})=>L===f.path),S=_r(n.value,f.path);_===-1&&f.value!==S?g.push(f):S===f.value&&_!==-1?g.splice(_,1):g[_]=f,o.value=g}}})});function qs({entitlements:i,overrideHandlers:t}){return new Proxy({},{get(n,o){return o in t?t[o]:_r(i.value,o)},ownKeys(){return[...Object.keys(i.value),...Object.keys(t)]},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(n,o){return o in t||o in i.value}})}const Fs=j(()=>{const i=B(void 0),t=B(void 0),n=B(()=>{});function o(){i.value=void 0,t.value=void 0,n.value=()=>{}}return{get challengeUrl(){return i.value},get challengeTitleKey(){return t.value},startChallenge(u,l){return i.value=u,t.value=l,new Promise(f=>n.value=f)},endChallenge(u,l){if(n.value(u),u&&l){const f=Fa(i.value);f&&window.location.assign(f)}o()}}}),$s=j(({serverData:i,ensure:t})=>{const o=i.isUnifiedApp?"/logout":"/admin/auth/logout";return{async perform(){const{errorLogger:u}=await t(["errorLogger"]),{deleteAllCaches:l}=await re(async()=>{const{deleteAllCaches:f}=await import("../context-slice-graphql-BZ6fTmq9sCuk.js").then(g=>g.a3);return{deleteAllCaches:f}},__vite__mapDeps([3,2,1]));try{await l({lockAfterDelete:!0})}catch(f){u.notify(f)}location.assign(o)}}}),Us=j(async i=>{const{flags:t}=await i.ensure(["flags"]),n=ie(()=>t.enabled.includes($a)),o=B(void 0),u=i.ensure(["extensibility"]).then(({extensibility:S})=>(o.value=S.host,S.host)),l=ie(()=>n.value&&o.value&&o.value.pluginApi.intents?o.value.pluginApi.intents.activities.value:[]),f=ie(()=>n.value&&o.value&&o.value.pluginApi.intents?o.value.pluginApi.intents.currentActivity.value:void 0),g=ie(()=>n.value&&o.value&&o.value.pluginApi.intents?o.value.pluginApi.intents.inActivity.value:!1);return{get enabled(){return n.value},activities:l,currentActivity:f,inActivity:g,invoke:async(S,L)=>{var v;const A=await u;await A.ready;const{instance:b,result:h}=await((v=A.pluginApi.intents)==null?void 0:v.invoke(S,L,{wait:!1}));if(await b.ready,b.error)throw b.error;return new Ua(b,void 0,h)}}});var ue,ce,le,se,lt,Ir,dt;class Bs{constructor(t){Pe(this,se);Pe(this,ue,new Map);Pe(this,ce,new Map);Pe(this,le,new Map);t&&this.register(t)}register(t){for(const[n,o]of Object.entries(t))z(this,ce).has(n)||z(this,le).has(n)||z(this,ue).has(n)||(typeof o=="function"?z(this,le).set(n,o):z(this,ce).set(n,ye(this,se,lt).call(this,o)));return this}assert(t,n){if(typeof t=="string"){if(z(this,ce).has(t))return ye(this,se,Ir).call(this,z(this,ce).get(t).assert.call(this,n));throw z(this,le).has(t)||z(this,ue).has(t)?new Error(`Mime type ${t} registered but not yet loaded. Make sure to call ensure() before asserting.`):new Error(`Mime type ${t} not registered.`)}if(typeof n=="object"&&n!=null&&!Array.isArray(n)){const o=[];for(const u in t){const l=t[u];let f;typeof l=="string"?f=this.assert(l,n[u]):(l.required!==!1||n[u]!=null)&&(f=this.assert(l.type??"",n[u])),f!=null&&!f.success&&o.push(...ye(this,se,dt).call(this,f.errors).map(g=>(g.path.unshift(u),g)))}return o.length===0?{data:n,success:!0}:{errors:o,success:!1}}throw new Error("Invalid value")}async ensure(t){if(typeof t=="string"){if(z(this,ce).has(t))return this;if(z(this,le).has(t)){const n=z(this,le).get(t);z(this,le).delete(t),z(this,ue).set(t,n().then(({default:o})=>(z(this,ce).set(t,ye(this,se,lt).call(this,o)),z(this,ue).delete(t),this)))}return z(this,ue).has(t)?z(this,ue).get(t):this}return await Promise.all(Object.values(t).map(n=>typeof n=="string"?this.ensure(n):this.ensure(n.type??""))),this}async ensureAndAssert(t,n){return await this.ensure(t),this.assert(t,n)}}ue=new WeakMap,ce=new WeakMap,le=new WeakMap,se=new WeakSet,lt=function(t){return t instanceof Fe.ZodSchema?{assert:n=>t.safeParse(n)}:t},Ir=function(t){return t.success?t:{success:!1,errors:ye(this,se,dt).call(this,"error"in t?t.error:t.errors)}},dt=function(t){return t instanceof Fe.ZodError?t.issues:Array.isArray(t)?t:[t]};const js=Fe.z.number().int();function pe(i){return{assert:t=>{const n=typeof t=="string"&&Ba(t)&&ja(t).toLowerCase()===i.toLowerCase();return n?{success:n,data:t}:{success:n,errors:[{path:[],code:"custom",message:`Expected a GID for ${i}. Got ${t}`}]}}}}const Hs=pe("Collection"),Vs=pe("Customer"),Gs=pe("Experiment"),zs=pe("Metafield"),Ks=pe("Metaobject"),Xs=pe("MetaobjectDefinition"),Qs=pe("Product"),Ws=pe("ProductVariant"),Rr={assert(i){return{success:!0,data:i}}},Js={assert(i){if(!Array.isArray(i))return{success:!1,errors:[{path:[],code:"custom",message:"Expected an array"}]};const t=i.flatMap(n=>{const o=Rr.assert.call(this,n);return o.success?[]:"errors"in o?o.errors:o.error.issues});return t.length>0?{success:!1,errors:t}:{success:!0,data:i}}},Ys=Fe.z.string(),Zs=j(()=>new Bs({"number/integer":js,"shopify/Collection+url":Hs,"shopify/Customer+url":Vs,"shopify/Experiment+url":Gs,"shopify/Metafield+url":zs,"shopify/Metaobject+url":Ks,"shopify/MetaobjectDefinition+url":Xs,"shopify/Product+url":Qs,"shopify/ProductVariant+url":Ws,"shopify/Artifact":Rr,"shopify/Artifact-list":Js,"text/plain":Ys})),eo=j(()=>{const i=B(void 0),t=B(void 0);return{get multiTrackToken(){return i.value},get sessionToken(){return t.value},updateState(n){i.value=n.multiTrackToken,t.value=n.sessionToken}}}),to="en";async function ro({createRouterPromise:i}){var A,b;const t=Ha(),{hostname:n=location.hostname,webHost:o,coreCdnHost:u,coreHost:l,adminDomain:f,devDashHost:g,sidekickHost:_}=t.urlDetails??{},S=Va(Ga(location.pathname)),L=za({mimeTypes:Zs,mobileBridge:Ya,async extensibility(h){return re(()=>import("../context-slice-extensibility-Be5pTwwmgE36.js"),__vite__mapDeps([4,2])).then(v=>v.default(h))},intents:Us,url:new Ja(n,o,u,l,f,g,_),browser:new Ka({userAgent:((A=t==null?void 0:t.browser)==null?void 0:A.userAgent)??navigator.userAgent,supported:((b=t==null?void 0:t.browser)==null?void 0:b.supported)??!0}),locale:t.locale,async i18n({locale:h,ensure:v}){const{requestDetails:E,errorLogger:T}=await v(["requestDetails","errorLogger"]),{currencyCode:M,shopCountryCode:$,ianaTimezone:q}=E.shop;return new ni({fallbackLocale:to,locale:h,currency:M,country:$,timezone:q,onError:T.notify})},async router(h){const{default:v}=await re(async()=>{const{default:E}=await import("../router-BlyQrGpZZX5J.js").then(T=>T.eP);return{default:E}},__vite__mapDeps([1,2]));return v(h,i)},serverData:t,errorLogger:cs,urlDetails:t.urlDetails,performance:li,instrumentation:mi,flash:vi,loading:Ci,globallyDismissedHomeItems:Ti,statusPanel:Oi,unified(){return{storeHandle:ri(location.pathname)}},graphqlLite:Li,async graphql(h){return await h.ensure(["router","metrics"]),(await re(async()=>{const{default:v}=await import("../context-slice-graphql-BZ6fTmq9sCuk.js").then(E=>E.a4);return{default:v}},__vite__mapDeps([3,2,1]))).default(h,{initialApolloData:t.initialApolloData})},async atlas(h){return h.ensure(["graphql"]),(await re(async()=>{const{default:v}=await import("../context-slice-atlas-oop1XO3_7gb0.js");return{default:v}},__vite__mapDeps([5,2]))).default(h)},contractManagementGraphql({requestDetails:{shop:h},graphql:v}){const E=tt((h==null?void 0:h.shopDomain)||"");return v.subclient({name:"contractManagement",apiEndpointPath:`/api/contractmanagement/${E}/${h==null?void 0:h.shopId}`})},verificationHubGraphql({requestDetails:{shop:h},graphql:v}){const E=tt((h==null?void 0:h.shopDomain)||"");return v.subclient({name:"verificationHub",apiEndpointPath:`/api/verificationhub/${E}/`})},async organizationGraphql({ensure:h}){const{shop:v,graphql:E}=await h(["shop","graphql"]),T=tt((v==null?void 0:v.shopDomain)||"");return E.subclient({name:"organizations",apiEndpointPath:`/api/organizations/${T}/${v==null?void 0:v.shopId}`})},async signupOrganizationsGraphql({ensure:h}){const{graphql:v}=await h(["graphql"]);return v.subclient({name:"organizations",apiEndpointPath:"/api/destinations"})},async requestedActionsGraphql({ensure:h}){const{graphql:v}=await h(["graphql"]);return v.subclient({name:"requestedActions",apiEndpointPath:"/api/requested_actions"})},bankingGraphql({serverData:h,unified:v,graphql:E}){const T="/admin/banking/graphql",M="/admin/internal/web/graphql/banking",$=h.isUnifiedApp;let q=M;return E.options.server?q=T:$&&(q=`/api/banking/${v.storeHandle}`),E.subclient({apiEndpointPath:q,name:"banking",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(R){var W,H,Y,K;if(!R)return!1;const F=(R==null?void 0:R.statusCode)||((W=R==null?void 0:R.response)==null?void 0:W.status),V=((H=R==null?void 0:R.result)==null?void 0:H.error)||((K=(Y=R==null?void 0:R.result)==null?void 0:Y.errors)==null?void 0:K.toString())||"";return F===404||F===403&&V!=="CSRF"}})},async experimentalBillingGraphql({ensure:h,unified:v}){const{shop:E,graphql:T}=await h(["shop","graphql"]);return T.subclient({name:"billing",apiEndpointPath:`/api/billing/shop/${E==null?void 0:E.shopId}/graphql?shop=${v.storeHandle}`})},async appStoreGraphql({ensure:h}){const{graphql:v}=await h(["graphql"]);return v.subclient({name:"appStore",apiEndpointPath:"/api/appStore/graphql"})},async merchantBankAccountGraphql({serverData:h,ensure:v}){const{shop:E,graphql:T}=await v(["shop","graphql"]),M=E==null?void 0:E.shopId,q=new URLSearchParams(location.search).get("businessEntityId"),R="/admin/merchant_bank_account/graphql",F="/admin/internal/web/graphql/merchant_bank_account",V=h.isUnifiedApp;let W=F;return T.options.server?W=R:V&&(W=q?`/api/merchant_bank_account/${M}/business_entity/${q}`:`/api/merchant_bank_account/${M}`),T.subclient({apiEndpointPath:W,name:"merchantBankAccount",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(H){if(!H)return!1;const Y=H.result.error||H.message||H.response.statusText;return H.statusCode===ti.BadRequest&&Y.includes("IMPERSONATION")?!1:[403,404].includes(H.statusCode)}})},async merchantRiskGraphql({serverData:h,unified:v,ensure:E}){const T="/admin/profile_assessment/graphql",M="/admin/internal/web/graphql/profile_assessment",{graphql:$}=await E(["graphql"]),q=h.isUnifiedApp;let R=M;if($.options.server)R=T;else if(q){R=`/api/profile_assessment/${v.storeHandle}`;const{flags:F}=await E(["flags"]);F.get(ei)&&(R=`/api/profile_assessment_non_proxy/${v.storeHandle}`)}return $.subclient({apiEndpointPath:R,name:"merchantRisk",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(F){return F?[403,404].includes(F.statusCode):!1}})},async bourgeoisGraphql({serverData:h,unified:v,ensure:E}){const T=(await re(async()=>{const{default:V}=await import("../context-slice-protocols~graphql~bourgeois-schema-types-Bc_It6riGOdO.js");return{default:V}},[])).default,M="/admin/capital/graphql",$="/admin/internal/web/graphql/capital",q=h.isUnifiedApp;let R=$;const{graphql:F}=await E(["graphql"]);return F.options.server?R=M:q&&(R=`/api/capital/${v.storeHandle}`),F.subclient({apiEndpointPath:R,name:"bourgeois",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(V){return V?[403,404].includes(V.statusCode):!1}},T)},headlessGraphql({serverData:h,unified:v,graphql:E}){const T="/admin/headless_storefronts/graphql",M="/admin/internal/web/graphql/headless_storefronts",$=h.isUnifiedApp;let q=M;return E.options.server?q=T:$&&(q=`/api/headless_storefronts/${v.storeHandle}`),E.subclient({apiEndpointPath:q,name:"headlessStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(R){return R?[403,404].includes(R.statusCode):!1}})},hydrogenGraphql({serverData:h,unified:v,graphql:E}){const T="hydrogen_storefronts",M=`/admin/${T}/graphql`,$=`/admin/internal/web/graphql/${T}`,q=h.isUnifiedApp;let R=$;return E.options.server?R=M:q&&(R=`/api/${T}/${v.storeHandle}`),E.subclient({apiEndpointPath:R,name:"hydrogenStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},cacheConfig:{typePolicies:{Query:{fields:{oxygenFeatureSet:{merge:!0}}}}},handleServerError(F){return F?[403,404].includes(F.statusCode):!1}})},signupGraphQL({graphql:h}){return h.subclient({name:"coreSignups",apiEndpointPath:"/api/signups"})},optionalCheckoutGraphQL({graphql:h}){const v=Za(location.search);return h.subclient({name:"coreSignupQuestionnaire",apiEndpointPath:`/api/shopify/${v}`})},messagingApiGraphql({serverData:h,unified:v,graphql:E}){const T="messagingapi",M=`/admin/${T}/graphql`,$="/admin/internal/web/graphql/messaging_api",q=h.isUnifiedApp;let R=$;return E.options.server?R=M:q&&(R=`/api/${T}/${v.storeHandle}`),E.subclient({apiEndpointPath:R,name:"messagingApi",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(F){return F?[402,403,404].includes(F.statusCode):!1}})},flags:gs,async shop({ensure:h,graphqlLite:v}){const{requestDetails:E}=await h(["requestDetails"]),T=E.shop;return Object.defineProperty(T,"refetch",{value:async()=>{const M=await rr(v,S);Object.assign(T,M.shop);const{router:$}=await h(["router"]);$.revalidate()},enumerable:!1,configurable:!1,writable:!1}),T},async shopFeatures({ensure:h}){const{requestDetails:v}=await h(["requestDetails"]);return v.shopFeatures},entitlements:xs,async requestDetails({serverData:h,unified:v,graphqlLite:E}){return h.requestDetails?h.requestDetails:v.storeHandle?await rr(E,S):{shop:{}}},permissions:ms,reportify:Wa,async newReportify(h){return(await re(async()=>{const{default:v}=await import("../context-slice-newReportify-CPyCfy8xECtk.js");return{default:v}},__vite__mapDeps([6,2]))).default(h)},async metrics(h){return(await re(async()=>{const{default:v}=await import("../context-slice-metrics-DubWL1fDJXwf.js").then(E=>E.m);return{default:v}},__vite__mapDeps([7,2,3,1]))).default(h)},async manifestFetch(h){return(await re(async()=>{const{default:v}=await import("../context-slice-manifestFetch-Crm2YKJnQMjb.js");return{default:v}},__vite__mapDeps([8,2]))).default(h)},monorail:Ps,slots:Qa,universalSidebar:Ri,searchEval:Ls,organization:Ts,async organizationFeatures({ensure:h}){const{organization:v}=await h(["organization"]);return(v==null?void 0:v.features)||[]},async organizationPermissions({ensure:h}){const{organization:v}=await h(["organization"]);return(v==null?void 0:v.permissions)||[]},async organizationUserLimits({ensure:h}){const{organization:v}=await h(["organization"]);return(v==null?void 0:v.userLimits)||Or},contextualCommerce:Rs,assets:Ns,forms:Ds,trustChallenge:Fs,duxContext:eo,logout:$s});return await L.ensure(Xa),L}const De=ai();let st;ao().then(()=>{De.status?kr():no({createAdminContext:ro})});async function no({createAdminContext:i}){const t=re(()=>import("../context-slice-app~foundation~router~index-C2gMqZ867glV.js").then(f=>f.d0),__vite__mapDeps([9,2,1])),n=re(()=>import("../render-common-DeDO-ej2pyEb.js").then(f=>f.ii),__vite__mapDeps([10,9,2,1,3,7,11]));let o,u;try{u=await i({createRouterPromise:t.then(({createRouter:f})=>f)})}catch(f){o=f}if(o){o&&setTimeout(()=>{throw o}),kr(o);return}const{createAppRoot:l}=await n;if(!st)try{st=l(Mr())}catch(f){throw new Error("Cannot create app root",{cause:f})}st.render(u,De==null?void 0:De.isUnifiedApp)}async function kr(i){const{createErrorAppRoot:t}=await re(async()=>{const{createErrorAppRoot:n}=await import("../render-common-DeDO-ej2pyEb.js").then(o=>o.ii);return{createErrorAppRoot:n}},__vite__mapDeps([10,9,2,1,3,7,11]));t(Mr(),i).render()}function ao(){return new Promise(i=>{document.readyState==="complete"?i():document.addEventListener("readystatechange",t);function t(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",t),i())}})}function Mr(){const i=document.getElementById("app");if(!i)throw new Error("App element not found");return i}
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/en/main-BEetB04S.js.map
